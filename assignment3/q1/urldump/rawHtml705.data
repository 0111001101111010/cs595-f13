<!DOCTYPE HTML><html lang="en-US"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"><title>API with Ruby on Rails: useful tricks | Railsware Blog</title><link href="http://railsware.com/blog/wp-content/themes/railsware/images/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon" /><link rel="stylesheet" type="text/css" media="screen" href="http://railsware.com/blog/wp-content/themes/railsware/style.css" /><link rel="pingback" href="http://railsware.com/blog/xmlrpc.php" /><meta name="google-site-verification" content="OPpueaxRywV--G1zFmahQakBHQnLea-cmqpDDl9KNSY" /><style type='text/css' media='screen' >.socialwrap li.icon_text a img, .socialwrap li.iconOnly a img, .followwrap li.icon_text a img, .followwrap li.iconOnly a
img{border-width:0 !important;background-color:none}#follow.right{width:32px;position:fixed;right:0;top:100px;background-color:#878787;padding:10px
0;font-family:impact,charcoal,arial,helvetica,sans-serif;-moz-border-radius-topleft:5px;-webkit-border-top-left-radius:5px;-moz-border-radius-bottomleft:5px;-webkit-border-bottom-left-radius:5px;border:2px
solid #fff;border-right-width:0}#follow.right
ul{padding:0;margin:0;list-style-type:none !important;font-size:24px;color:black}#follow.right ul
li{padding-bottom:10px;list-style-type:none !important;padding-left:4px;padding-right:4px}#follow
img{border:none}#follow.right ul
li.follow{margin:0
4px}#follow.right ul li.follow
img{border-width:0;display:block;overflow:hidden;background:transparent url(http://blog.railsware.com/wp-content/plugins/share-and-follow/images/impact/follow-right.png) no-repeat -0px 0px;height:79px;width:20px}#follow.right ul li
a{display:block}#follow.right ul li.follow span, #follow ul li a
span{display:none}.share{margin:0
3px 3px 0}ul.row
li{float:left;list-style-type:none;list-style:none}li.iconOnly a
span.head{display:none}#follow.left ul.size16
li.follow{margin:0px
auto !important}li.icon_text
a{padding-left:0;margin-right:3px}li.text_only
a{background-image:none !important;padding-left:0}li.text_only a
img{display:none}li.icon_text a
span{background-image:none !important;padding-left:0 !important}li.iconOnly a
span.head{display:none}ul.socialwrap
li{margin:0
3px 3px 0 !important}ul.socialwrap li
a{text-decoration:none}ul.row
li{float:left;line-height:auto !important}ul.row li a
img{padding:0}.size16 li a,.size24 li a,.size32 li a, .size48 li a, .size60 li
a{display:block}ul.socialwrap{list-style-type:none !important;margin:0;padding:0;text-indent:0 !important}ul.socialwrap
li{list-style-type:none !important;background-image:none;padding:0;list-style-image:none !important}ul.followwrap{list-style-type:none !important;margin:0;padding:0}ul.followwrap
li{margin-right:3px;margin-bottom:3px;list-style-type:none !important}#follow.right ul.followwrap li, #follow.left ul.followwrap
li{margin-right:0px;margin-bottom:0px}.shareinpost{clear:both;padding-top:0px}.shareinpost
ul.socialwrap{list-style-type:none !important;margin:0
!important;padding:0
!important}.shareinpost ul.socialwrap
li{padding-left:0 !important;background-image:none !important;margin-left:0 !important;list-style-type:none !important;text-indent:0 !important}.socialwrap li.icon_text a img, .socialwrap li.iconOnly a
img{border-width:0}ul.followrap
li{list-style-type:none;list-style-image:none !important}div.clean{clear:left}div.display_none{display:none}.button_holder_bottom,.button_holder_left{margin-right:5px;display:inline}.button_holder_right{margin-left:5px;display:inline}.button_holder_show_interactive{display:inline;margin-right:5px}.button_holder_bottom iframe,.button_holder_left iframe,.button_holder_right iframe,.button_holder_show_interactive
iframe{vertical-align:top}.tall *[id*='___plusone']{position:relative;top:-12px}ul.tab.down
a{border-bottom:none}</style><style type='text/css' media='print' >.socialwrap li.icon_text a img, .socialwrap li.iconOnly a img, .followwrap li.icon_text a img, .followwrap li.iconOnly a
img{border-width:0 !important;background-color:none}#follow.right{width:32px;position:fixed;right:0;top:100px;background-color:#878787;padding:10px
0;font-family:impact,charcoal,arial,helvetica,sans-serif;-moz-border-radius-topleft:5px;-webkit-border-top-left-radius:5px;-moz-border-radius-bottomleft:5px;-webkit-border-bottom-left-radius:5px;border:2px
solid #fff;border-right-width:0}#follow.right
ul{padding:0;margin:0;list-style-type:none !important;font-size:24px;color:black}#follow.right ul
li{padding-bottom:10px;list-style-type:none !important;padding-left:4px;padding-right:4px}#follow
img{border:none}#follow.right ul
li.follow{margin:0
4px}#follow.right ul li.follow
img{border-width:0;display:block;overflow:hidden;background:transparent url(http://blog.railsware.com/wp-content/plugins/share-and-follow/images/impact/follow-right.png) no-repeat -0px 0px;height:79px;width:20px}#follow.right ul li
a{display:block}#follow.right ul li.follow span, #follow ul li a
span{display:none}.share{margin:0
3px 3px 0}ul.row
li{float:left;list-style-type:none;list-style:none}li.iconOnly a
span.head{display:none}#follow.left ul.size16
li.follow{margin:0px
auto !important}li.icon_text
a{padding-left:0;margin-right:3px}li.text_only
a{background-image:none !important;padding-left:0}li.text_only a
img{display:none}li.icon_text a
span{background-image:none !important;padding-left:0 !important}li.iconOnly a
span.head{display:none}ul.socialwrap
li{margin:0
3px 3px 0 !important}ul.socialwrap li
a{text-decoration:none}ul.row
li{float:left;line-height:auto !important}ul.row li a
img{padding:0}.size16 li a,.size24 li a,.size32 li a, .size48 li a, .size60 li
a{display:block}ul.socialwrap{list-style-type:none !important;margin:0;padding:0;text-indent:0 !important}ul.socialwrap
li{list-style-type:none !important;background-image:none;padding:0;list-style-image:none !important}ul.followwrap{list-style-type:none !important;margin:0;padding:0}ul.followwrap
li{margin-right:3px;margin-bottom:3px;list-style-type:none !important}#follow.right ul.followwrap li, #follow.left ul.followwrap
li{margin-right:0px;margin-bottom:0px}.shareinpost{clear:both;padding-top:0px}.shareinpost
ul.socialwrap{list-style-type:none !important;margin:0
!important;padding:0
!important}.shareinpost ul.socialwrap
li{padding-left:0 !important;background-image:none !important;margin-left:0 !important;list-style-type:none !important;text-indent:0 !important}.socialwrap li.icon_text a img, .socialwrap li.iconOnly a
img{border-width:0}ul.followrap
li{list-style-type:none;list-style-image:none !important}div.clean{clear:left}div.display_none{display:none}.button_holder_bottom,.button_holder_left{margin-right:5px;display:inline}.button_holder_right{margin-left:5px;display:inline}.button_holder_show_interactive{display:inline;margin-right:5px}.button_holder_bottom iframe,.button_holder_left iframe,.button_holder_right iframe,.button_holder_show_interactive
iframe{vertical-align:top}.tall *[id*='___plusone']{position:relative;top:-12px}ul.tab.down
a{border-bottom:none}</style><link rel="image_src" href="http://www.gravatar.com/avatar/443c42e0b34233b0fc0fa7bf228b43c8?default=&amp;size=110.jpg" /><script type="text/javascript">var _gaq=_gaq||[];_gaq.push(['_setAccount','UA-743259-11']);_gaq.push(['_trackPageview']);(function(){var ga=document.createElement('script');ga.type='text/javascript';ga.async=true;ga.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ga,s);})();</script><link rel="alternate" type="application/rss+xml" title="Railsware Blog &raquo; API with Ruby on Rails: useful tricks Comments Feed" href="http://railsware.com/blog/2013/04/08/api-with-ruby-on-rails-useful-tricks/feed/" /><link rel='stylesheet' id='bc-oauth-css-css'  href='http://railsware.com/blog/wp-content/plugins/bc-oauth/css/oauth.css?ver=3.5.1' type='text/css' media='all' /><link rel='stylesheet' id='crayon-css'  href='http://railsware.com/blog/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=2.4.1' type='text/css' media='all' /><link rel='stylesheet' id='crayon-theme-github-css'  href='http://railsware.com/blog/wp-content/plugins/crayon-syntax-highlighter/themes/github/github.css?ver=2.4.1' type='text/css' media='all' /><link rel='stylesheet' id='crayon-font-monaco-css'  href='http://railsware.com/blog/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=2.4.1' type='text/css' media='all' /><link rel='stylesheet' id='wordpress-popular-posts-css'  href='http://railsware.com/blog/wp-content/plugins/wordpress-popular-posts/style/wpp.css?ver=3.5.1' type='text/css' media='all' /><link rel='stylesheet' id='A2A_SHARE_SAVE-css'  href='http://railsware.com/blog/wp-content/plugins/add-to-any/addtoany.min.css?ver=1.4' type='text/css' media='all' /><script type='text/javascript' src='http://railsware.com/blog/wp-includes/js/jquery/jquery.js?ver=1.8.3'></script><script type='text/javascript' src='http://railsware.com/blog/wp-content/plugins/jquery-t-countdown-widget/js/jquery.t-countdown.min.js?ver=1.4'></script><script type='text/javascript'>var CrayonSyntaxSettings={"version":"2.4.1","is_admin":"0","ajaxurl":"http:\/\/railsware.com\/blog\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};var CrayonSyntaxStrings={"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};</script><script type='text/javascript' src='http://railsware.com/blog/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=2.4.1'></script><script type='text/javascript' src='http://railsware.com/blog/wp-includes/js/comment-reply.min.js?ver=3.5.1'></script><link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://railsware.com/blog/xmlrpc.php?rsd" /><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://railsware.com/blog/wp-includes/wlwmanifest.xml" /><link rel='prev' title='Mailtrap API' href='http://railsware.com/blog/2013/04/08/mailtrap-api/' /><link rel='next' title='We&#8217;re Giving Away 2 Free Railsberry 2013 Tickets!' href='http://railsware.com/blog/2013/04/17/were-giving-away-2-free-railsberry-2013-tickets/' /><meta name="generator" content="WordPress 3.5.1" /><link rel='shortlink' href='http://railsware.com/blog/?p=4508' /><script type="text/javascript">/*<![CDATA[*/var a2a_config=a2a_config||{},wpa2a={done:false,html_done:false,script_ready:false,script_load:function(){var a=document.createElement('script'),s=document.getElementsByTagName('script')[0];a.type='text/javascript';a.async=true;a.src='http://static.addtoany.com/menu/page.js';s.parentNode.insertBefore(a,s);wpa2a.script_load=function(){};},script_onready:function(){if(a2a.type=='page'){wpa2a.script_ready=true;if(wpa2a.html_done)wpa2a.init();}},init:function(){for(var i=0,el,target,targets=wpa2a.targets,length=targets.length;i<length;i++){el=document.getElementById('wpa2a_'+(i+1));target=targets[i];a2a_config.linkname=target.title;a2a_config.linkurl=target.url;if(el)a2a.init('page',{target:el});wpa2a.done=true;}}};a2a_config.tracking_callback=['ready',wpa2a.script_onready];a2a_config.templates={twitter:"Check out ${title} ${link} by @railsware"};/*]]>*/</script><script type="text/javascript">jQuery.post('http://railsware.com/blog/wp-admin/admin-ajax.php',{action:'wpp_update',token:'d7a3b011d2',id:4508},function(data){});</script><link rel="author" href="innokenty.mihailov" /><meta name="description" content="This article is about gotchas you should be aware of while building your API with Ruby on Rails." /><meta name="keywords" content="api,ruby on rails,ror,uuid,postgresql,metal" /><link rel="canonical" href="http://railsware.com/blog/2013/04/08/api-with-ruby-on-rails-useful-tricks/" /><!--[if IE]><style type="text/css">.addtoany_list a
img{filter:alpha(opacity=70)}.addtoany_list a:hover img,.addtoany_list a.addtoany_share_save
img{filter:alpha(opacity=100)}</style><![endif]--><script type='text/javascript'>/*<![CDATA[*/var _vwo_code=(function(){var account_id=23612,settings_tolerance=2000,library_tolerance=1500,use_existing_jquery=false,f=false,d=document;return{use_existing_jquery:function(){return use_existing_jquery;},library_tolerance:function(){return library_tolerance;},finish:function(){if(!f){f=true;var a=d.getElementById('_vis_opt_path_hides');if(a)a.parentNode.removeChild(a);}},finished:function(){return f;},load:function(a){var b=d.createElement('script');b.src=a;b.type='text/javascript';b.innerText;b.onerror=function(){_vwo_code.finish();};d.getElementsByTagName('head')[0].appendChild(b);},init:function(){settings_timer=setTimeout('_vwo_code.finish()',settings_tolerance);this.load('//dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&r='+Math.random());var a=d.createElement('style'),b='body{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;}',h=d.getElementsByTagName('head')[0];a.setAttribute('id','_vis_opt_path_hides');a.setAttribute('type','text/css');if(a.styleSheet)a.styleSheet.cssText=b;else a.appendChild(d.createTextNode(b));h.appendChild(a);return settings_timer;}};}());_vwo_settings_timer=_vwo_code.init();/*]]>*/</script></head><body class="single single-post postid-4508 single-format-standard"><div class="wrapper"> <header class="header"><div class="container row"><div class="col1of6"> <a href="http://railsware.com/" class="logo">Railsware</a></div><div class="col5of6"> <nav class="navigation"><ul><li id="menu-item-2108" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2108"><a title="COMPANY" href="http://railsware.com/company/why_railsware" >COMPANY</a></li><li id="menu-item-2119" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2119"><a title="WORK" href="http://railsware.com/work/projects" >WORK</a></li><li id="menu-item-2562" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2562"><a title="APPROACH" href="http://railsware.com/approach/whole_process/approach" >APPROACH</a></li><li id="menu-item-2563" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2563"><a href="http://railsware.com/team/railswarians" >TEAM</a></li><li id="menu-item-2564" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2564"><a title="CONTACT" href="http://railsware.com/contact" >CONTACT</a></li><li id="menu-item-2565" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-2565"><a href="http://railsware.com/blog" >BLOG</a></li></ul> </nav> <a href="#" class="mobile-nav-toggler">MENU</a></div></div> </header> <section class="body"><div class="container row"><div class="mainbar col3of4"> <article class="entry"><div class="row"><div class="col1of4"> <a href="http://railsware.com/blog/2013/04/08/api-with-ruby-on-rails-useful-tricks/"><img width="150" height="83" src="http://railsware.com/blog/wp-content/uploads/2013/03/API-2.png" class="attachment-thumbnail wp-post-image" alt="API ror development" /></a></div><div class="col3of4"> <header><h1 class="entry-title">API with Ruby on Rails: useful tricks</h1><p><span class="entry-date">April 8, 2013</span> <span class="entry-author">by Innokenty Mihailov</span> | <a href="http://railsware.com/blog/2013/04/08/api-with-ruby-on-rails-useful-tricks/#comments" title="Comment on API with Ruby on Rails: useful tricks"><span class="dsq-postid" rel="4508 http://railsware.com/blog/?p=4508">14 Comments</span></a></p> </header></div></div> <section id="content" class="entry-body mbl"><p>This article is about gotchas you should be aware of while building your API with Ruby on Rails.</p><h2>Controller tricks: API on Metal</h2><p>Sooner or later each <a href="http://railsware.com/team/railswarians" >Rails developer</a> come to a point when he wants to build his first API.<br /> Among the first things you have to take care of are your controllers.<br /> If you want your API to be fast (and I bet you do) then you should consider using <a href="http://weblog.rubyonrails.org/2008/12/17/introducing-rails-metal/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://weblog.rubyonrails.org']);">ActionController::Metal</a>.<br /> The trick is that <code>ActionController::Base</code> has many Middlewares that are not necessary for the API, by using Metal controller with minimum modules included, the one can achieve <a href="https://gist.github.com/738168" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://gist.github.com']);">up to 40% speedup</a>.<br /> Lets see what your basic metal controller may looks like:</p><div id="crayon-524b8b65c17b5480824314" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span><div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div><div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div><div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
class Api::V1::BaseController &lt; ActionController::Metal
  include ActionController::Rendering        # enables rendering
  include ActionController::MimeResponds     # enables serving different content types like :xml or :json
  include AbstractController::Callbacks      # callbacks for your authentication logic

  append_view_path "#{Rails.root}/app/views" # you have to specify your views location as well
end
</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-524b8b65c17b5480824314-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17b5480824314-2">2</div><div class="crayon-num" data-line="crayon-524b8b65c17b5480824314-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17b5480824314-4">4</div><div class="crayon-num" data-line="crayon-524b8b65c17b5480824314-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17b5480824314-6">6</div><div class="crayon-num" data-line="crayon-524b8b65c17b5480824314-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17b5480824314-8">8</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-524b8b65c17b5480824314-1"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-i">Api</span><span class="crayon-o">::</span><span class="crayon-i">V1</span><span class="crayon-o">::</span><span class="crayon-i">BaseController</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-i">ActionController</span><span class="crayon-o">::</span><span class="crayon-e">Metal</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17b5480824314-2"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-e">include </span><span class="crayon-i">ActionController</span><span class="crayon-o">::</span><span class="crayon-i">Rendering</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># enables rendering</span></div><div class="crayon-line" id="crayon-524b8b65c17b5480824314-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">include </span><span class="crayon-i">ActionController</span><span class="crayon-o">::</span><span class="crayon-i">MimeResponds</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-p"># enables serving different content types like :xml or :json</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17b5480824314-4"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">include </span><span class="crayon-i">AbstractController</span><span class="crayon-o">::</span><span class="crayon-i">Callbacks</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># callbacks for your authentication logic</span></div><div class="crayon-line" id="crayon-524b8b65c17b5480824314-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17b5480824314-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">append_view_path</span><span class="crayon-h"> </span><span class="crayon-s">"#{Rails.root}/app/views"</span><span class="crayon-h"> </span><span class="crayon-p"># you have to specify your views location as well</span></div><div class="crayon-line" id="crayon-524b8b65c17b5480824314-7"><span class="crayon-st">end</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17b5480824314-8">&nbsp;</div></div></td></tr></table></div></div><p>Unfortunately NewRelic doesn&#8217;t support Metal by default, so you have to <a href="https://newrelic.com/docs/ruby/adding-instrumentation-to-actioncontroller-metal" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://newrelic.com']);">add monitoring manually</a>.</p><h2>Routing: use versioning</h2><p>Nobody&#8217;s perfect. So are we.<br /> Your API will definitely be changed and extended multiple times in the future so you better take care of your versioning at the beginning.<br /> As you noticed, <code>BaseController</code> wrapped in <code>V1</code> namespace. Use something like this in your routes:</p><div id="crayon-524b8b65c17bc911958841" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span><div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div><div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div><div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
namespace :api do
  namespace :v1 do
    # put your routes here
  end
end
</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-524b8b65c17bc911958841-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17bc911958841-2">2</div><div class="crayon-num" data-line="crayon-524b8b65c17bc911958841-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17bc911958841-4">4</div><div class="crayon-num" data-line="crayon-524b8b65c17bc911958841-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17bc911958841-6">6</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-524b8b65c17bc911958841-1"><span class="crayon-t">namespace</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-e">api </span><span class="crayon-st">do</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17bc911958841-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">namespace</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-e">v1 </span><span class="crayon-st">do</span></div><div class="crayon-line" id="crayon-524b8b65c17bc911958841-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># put your routes here</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17bc911958841-4"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">end</span></div><div class="crayon-line" id="crayon-524b8b65c17bc911958841-5"><span class="crayon-st">end</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17bc911958841-6">&nbsp;</div></div></td></tr></table></div></div><p></p><h2>Views tricks: RABL &#8216;em all</h2><p>You don&#8217;t want to burden your code with logic of exposing different model fields for different API actions, right?<br /> In this case you should use some template engine. <a href="https://github.com/nesquena/rabl" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://github.com']);">RABL</a> is at your service. Here&#8217;s an example of your view:</p><div id="crayon-524b8b65c17c1766048821" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span><div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div><div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div><div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
object @object

attribute :public_id =&gt; :id
attributes :title, :created_at, :source

child :contacts do
  attributes :title
end

child :files do
  attributes :filename, :content_type, :size
end
</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-524b8b65c17c1766048821-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17c1766048821-2">2</div><div class="crayon-num" data-line="crayon-524b8b65c17c1766048821-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17c1766048821-4">4</div><div class="crayon-num" data-line="crayon-524b8b65c17c1766048821-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17c1766048821-6">6</div><div class="crayon-num" data-line="crayon-524b8b65c17c1766048821-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17c1766048821-8">8</div><div class="crayon-num" data-line="crayon-524b8b65c17c1766048821-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17c1766048821-10">10</div><div class="crayon-num" data-line="crayon-524b8b65c17c1766048821-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17c1766048821-12">12</div><div class="crayon-num" data-line="crayon-524b8b65c17c1766048821-13">13</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-524b8b65c17c1766048821-1"><span class="crayon-t">object</span><span class="crayon-h"> </span><span class="crayon-sy">@</span><span class="crayon-t">object</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17c1766048821-2">&nbsp;</div><div class="crayon-line" id="crayon-524b8b65c17c1766048821-3"><span class="crayon-i">attribute</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-v">public_id</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-e">id</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17c1766048821-4"><span class="crayon-i">attributes</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-i">title</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-i">created_at</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-e">source</span></div><div class="crayon-line" id="crayon-524b8b65c17c1766048821-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17c1766048821-6"><span class="crayon-r">child</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-e">contacts </span><span class="crayon-st">do</span></div><div class="crayon-line" id="crayon-524b8b65c17c1766048821-7"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">attributes</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-e">title</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17c1766048821-8"><span class="crayon-st">end</span></div><div class="crayon-line" id="crayon-524b8b65c17c1766048821-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17c1766048821-10"><span class="crayon-r">child</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-e">files </span><span class="crayon-st">do</span></div><div class="crayon-line" id="crayon-524b8b65c17c1766048821-11"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">attributes</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-i">filename</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-i">content_type</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-e">size</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17c1766048821-12"><span class="crayon-st">end</span></div><div class="crayon-line" id="crayon-524b8b65c17c1766048821-13">&nbsp;</div></div></td></tr></table></div></div><p>Also that will save you time by getting rid of ugly <code>respond_to</code> blocks. Instead of</p><div id="crayon-524b8b65c17c4095655708" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span><div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div><div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div><div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
def show
  @object = Object.find(params[:id])
  respond_to do |f|
    f.json { render json: @object.to_json }
    f.xml  { render xml: @object.to_xml }
  end
end
</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-524b8b65c17c4095655708-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17c4095655708-2">2</div><div class="crayon-num" data-line="crayon-524b8b65c17c4095655708-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17c4095655708-4">4</div><div class="crayon-num" data-line="crayon-524b8b65c17c4095655708-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17c4095655708-6">6</div><div class="crayon-num" data-line="crayon-524b8b65c17c4095655708-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17c4095655708-8">8</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-524b8b65c17c4095655708-1"><span class="crayon-e">def </span><span class="crayon-i">show</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17c4095655708-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-t">object</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">Object</span><span class="crayon-sy">.</span><span class="crayon-e">find</span><span class="crayon-sy">(</span><span class="crayon-v">params</span><span class="crayon-sy">[</span><span class="crayon-o">:</span><span class="crayon-i">id</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-524b8b65c17c4095655708-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">respond_to </span><span class="crayon-st">do</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-i">f</span><span class="crayon-o">|</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17c4095655708-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-i">json</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-e">render </span><span class="crayon-i">json</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">@</span><span class="crayon-t">object</span><span class="crayon-sy">.</span><span class="crayon-i">to_json</span><span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-524b8b65c17c4095655708-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-i">xml</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-e">render </span><span class="crayon-i">xml</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">@</span><span class="crayon-t">object</span><span class="crayon-sy">.</span><span class="crayon-i">to_xml</span><span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17c4095655708-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">end</span></div><div class="crayon-line" id="crayon-524b8b65c17c4095655708-7"><span class="crayon-st">end</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17c4095655708-8">&nbsp;</div></div></td></tr></table></div></div><p>You can simple do literally Nothing</p><div id="crayon-524b8b65c17c8365131285" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span><div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div><div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div><div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
def show
  @object = Object.find(params[:id])
end
</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-524b8b65c17c8365131285-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17c8365131285-2">2</div><div class="crayon-num" data-line="crayon-524b8b65c17c8365131285-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17c8365131285-4">4</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-524b8b65c17c8365131285-1"><span class="crayon-e">def </span><span class="crayon-i">show</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17c8365131285-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">@</span><span class="crayon-t">object</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">Object</span><span class="crayon-sy">.</span><span class="crayon-e">find</span><span class="crayon-sy">(</span><span class="crayon-v">params</span><span class="crayon-sy">[</span><span class="crayon-o">:</span><span class="crayon-i">id</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-524b8b65c17c8365131285-3"><span class="crayon-st">end</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17c8365131285-4">&nbsp;</div></div></td></tr></table></div></div><p>Just make sure you have a RABL view in a corresponding directory.</p><h2>Security</h2><p>There&#8217;re plenty of articles about securing your API with OAuth. Another convenient way is to simply use token passed in the query string. If you ended up with token keep in mind that you can easily generate it by calling <code>SecureRandom.urlsafe_base64</code>. To make sure token is unique you can use something like this:</p><div id="crayon-524b8b65c17cc827917360" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span><div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div><div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div><div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
def build_token
  begin
    token = SecureRandom.urlsafe_base64
  end while User.exists?(api_token: token)
  token
end
</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-524b8b65c17cc827917360-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17cc827917360-2">2</div><div class="crayon-num" data-line="crayon-524b8b65c17cc827917360-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17cc827917360-4">4</div><div class="crayon-num" data-line="crayon-524b8b65c17cc827917360-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17cc827917360-6">6</div><div class="crayon-num" data-line="crayon-524b8b65c17cc827917360-7">7</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-524b8b65c17cc827917360-1"><span class="crayon-e">def </span><span class="crayon-e">build_token</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17cc827917360-2"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-e">begin</span></div><div class="crayon-line" id="crayon-524b8b65c17cc827917360-3"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">token</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">SecureRandom</span><span class="crayon-sy">.</span><span class="crayon-e">urlsafe_base64</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17cc827917360-4"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-st">end</span><span class="crayon-h"> </span><span class="crayon-st">while</span><span class="crayon-h"> </span><span class="crayon-v">User</span><span class="crayon-sy">.</span><span class="crayon-i">exists</span><span class="crayon-sy">?</span><span class="crayon-sy">(</span><span class="crayon-i">api_token</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">token</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-524b8b65c17cc827917360-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">token</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17cc827917360-6"><span class="crayon-st">end</span></div><div class="crayon-line" id="crayon-524b8b65c17cc827917360-7">&nbsp;</div></div></td></tr></table></div></div><p></p><h2>Hiding your IDs with GUIDs</h2><p>By default Rails uses incremental integer for primary key.<br /> Common practice is not to expose these kind of IDs to the public via your API because users can guess other IDs in your database and that might be a potential risk.<br /> To solve this you can come up with a simple algorithm that will convert your IDs into some &#8220;safe&#8221; form and back.<br /> But still it&#8217;s not super safe because someone can find out what the algorithm is.<br /> Another possible solution is to expose <a href="http://en.wikipedia.org/wiki/Globally_unique_identifier" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://en.wikipedia.org']);">GUIDs</a> to the public.<br /> It&#8217;s a 128 entity that typically looks like this:</p><div id="crayon-524b8b65c17d0463060275" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span><div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div><div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div><div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11
</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-524b8b65c17d0463060275-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17d0463060275-2">2</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-524b8b65c17d0463060275-1"><span class="crayon-i">a0eebc99</span><span class="crayon-o">-</span><span class="crayon-cn">9c0b</span><span class="crayon-o">-</span><span class="crayon-cn">4ef8</span><span class="crayon-o">-</span><span class="crayon-i">bb6d</span><span class="crayon-o">-</span><span class="crayon-cn">6bb9bd380a11</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17d0463060275-2">&nbsp;</div></div></td></tr></table></div></div><p>To generate it in Ruby use <code>SecureRandom.uuid</code> (generates V4 GUID).<br /> You can store it as a simple string column but if you are using Postgresql then you can utilize it&#8217;s built in <code>uuid</code> type &#8211; this can <a href="http://simononsoftware.com/how-to-store-uuids-in-postgresql/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://simononsoftware.com']);">save you a lot of space</a>.<br /> Rails, however falls back to <code>:string</code> for the <code>uuid</code> Postgresql native type.<br /> To workaround this you can create column manually in your migration (index should be added as well):</p><div id="crayon-524b8b65c17d4130432686" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span><div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div><div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div><div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
execute "ALTER TABLE objects add COLUMN public_id uuid NOT NULL DEFAULT uuid_generate_v4()"
add_index :objects, [:public_id], name: "index_objects_on_public_id", unique: true
</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-524b8b65c17d4130432686-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17d4130432686-2">2</div><div class="crayon-num" data-line="crayon-524b8b65c17d4130432686-3">3</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-524b8b65c17d4130432686-1"><span class="crayon-i">execute</span><span class="crayon-h"> </span><span class="crayon-s">"ALTER TABLE objects add COLUMN public_id uuid NOT NULL DEFAULT uuid_generate_v4()"</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17d4130432686-2"><span class="crayon-i">add_index</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-i">objects</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-o">:</span><span class="crayon-i">public_id</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"index_objects_on_public_id"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">unique</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">true</span></div><div class="crayon-line" id="crayon-524b8b65c17d4130432686-3">&nbsp;</div></div></td></tr></table></div></div><p>To use <code>uuid_generate_v4</code> function you have to add Postgresql extension:</p><div id="crayon-524b8b65c17d8830211913" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span><div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div><div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div><div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
create extension "uuid-ossp"
</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-524b8b65c17d8830211913-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17d8830211913-2">2</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-524b8b65c17d8830211913-1"><span class="crayon-e">create </span><span class="crayon-i">extension</span><span class="crayon-h"> </span><span class="crayon-s">"uuid-ossp"</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17d8830211913-2">&nbsp;</div></div></td></tr></table></div></div><p>And don&#8217;t forget to change your schema format to <code>:sql</code> in <code>config/application.rb</code></p><div id="crayon-524b8b65c17db869031893" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span><div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div><div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div><div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
config.active_record.schema_format = :sql</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-524b8b65c17db869031893-1">1</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-524b8b65c17db869031893-1"><span class="crayon-v">config</span><span class="crayon-sy">.</span><span class="crayon-v">active_record</span><span class="crayon-sy">.</span><span class="crayon-v">schema_format</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-i">sql</span></div></div></td></tr></table></div></div><p></p><h2>Testing your API</h2><p>You definitely want to cover up your new shiny API with some sort of tests. See example below that uses <code>Rack::Test::Methods</code></p><div id="crayon-524b8b65c17df270899443" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span><div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div><div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div><div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# spec_helper
module ApiHelper
  include Rack::Test::Methods

  def app
    Rails.application
  end
end

RSpec.configure do |config|
  config.include ApiHelper, api: true
end

# spec
require 'spec_helper'

describe "api/v1/objects", api: true do
  let(:url) { "api/v1/objects" }
  let(:object) { Factory.create(:object) }
  let(:token) { "YOUR_SECRET_TOKEN" }
  let(:data) { JSON.parse(last_response.body) }

  before(:each) { get url, token: token }       # here's where API call made

  subject { data }

  it { should have(1).object }
end
</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-524b8b65c17df270899443-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17df270899443-2">2</div><div class="crayon-num" data-line="crayon-524b8b65c17df270899443-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17df270899443-4">4</div><div class="crayon-num" data-line="crayon-524b8b65c17df270899443-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17df270899443-6">6</div><div class="crayon-num" data-line="crayon-524b8b65c17df270899443-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17df270899443-8">8</div><div class="crayon-num" data-line="crayon-524b8b65c17df270899443-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17df270899443-10">10</div><div class="crayon-num" data-line="crayon-524b8b65c17df270899443-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17df270899443-12">12</div><div class="crayon-num" data-line="crayon-524b8b65c17df270899443-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17df270899443-14">14</div><div class="crayon-num" data-line="crayon-524b8b65c17df270899443-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17df270899443-16">16</div><div class="crayon-num" data-line="crayon-524b8b65c17df270899443-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17df270899443-18">18</div><div class="crayon-num" data-line="crayon-524b8b65c17df270899443-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17df270899443-20">20</div><div class="crayon-num" data-line="crayon-524b8b65c17df270899443-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17df270899443-22">22</div><div class="crayon-num" data-line="crayon-524b8b65c17df270899443-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17df270899443-24">24</div><div class="crayon-num" data-line="crayon-524b8b65c17df270899443-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17df270899443-26">26</div><div class="crayon-num" data-line="crayon-524b8b65c17df270899443-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-524b8b65c17df270899443-28">28</div><div class="crayon-num" data-line="crayon-524b8b65c17df270899443-29">29</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-524b8b65c17df270899443-1"><span class="crayon-p"># spec_helper</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17df270899443-2"><span class="crayon-e">module </span><span class="crayon-e">ApiHelper</span></div><div class="crayon-line" id="crayon-524b8b65c17df270899443-3"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-e">include </span><span class="crayon-i">Rack</span><span class="crayon-o">::</span><span class="crayon-i">Test</span><span class="crayon-o">::</span><span class="crayon-e">Methods</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17df270899443-4">&nbsp;</div><div class="crayon-line" id="crayon-524b8b65c17df270899443-5"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">app</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17df270899443-6"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Rails</span><span class="crayon-sy">.</span><span class="crayon-e">application</span></div><div class="crayon-line" id="crayon-524b8b65c17df270899443-7"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-st">end</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17df270899443-8"><span class="crayon-st">end</span></div><div class="crayon-line" id="crayon-524b8b65c17df270899443-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17df270899443-10"><span class="crayon-v">RSpec</span><span class="crayon-sy">.</span><span class="crayon-e">configure </span><span class="crayon-st">do</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-i">config</span><span class="crayon-o">|</span></div><div class="crayon-line" id="crayon-524b8b65c17df270899443-11"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">config</span><span class="crayon-sy">.</span><span class="crayon-e">include </span><span class="crayon-i">ApiHelper</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">api</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">true</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17df270899443-12"><span class="crayon-st">end</span></div><div class="crayon-line" id="crayon-524b8b65c17df270899443-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17df270899443-14"><span class="crayon-p"># spec</span></div><div class="crayon-line" id="crayon-524b8b65c17df270899443-15"><span class="crayon-i">require</span><span class="crayon-h"> </span><span class="crayon-s">'spec_helper'</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17df270899443-16">&nbsp;</div><div class="crayon-line" id="crayon-524b8b65c17df270899443-17"><span class="crayon-i">describe</span><span class="crayon-h"> </span><span class="crayon-s">"api/v1/objects"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">api</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-h"> </span><span class="crayon-st">do</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17df270899443-18"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">let</span><span class="crayon-sy">(</span><span class="crayon-o">:</span><span class="crayon-i">url</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-s">"api/v1/objects"</span><span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-524b8b65c17df270899443-19"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">let</span><span class="crayon-sy">(</span><span class="crayon-o">:</span><span class="crayon-t">object</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-v">Factory</span><span class="crayon-sy">.</span><span class="crayon-e">create</span><span class="crayon-sy">(</span><span class="crayon-o">:</span><span class="crayon-t">object</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17df270899443-20"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">let</span><span class="crayon-sy">(</span><span class="crayon-o">:</span><span class="crayon-i">token</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-s">"YOUR_SECRET_TOKEN"</span><span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-524b8b65c17df270899443-21"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">let</span><span class="crayon-sy">(</span><span class="crayon-o">:</span><span class="crayon-i">data</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-v">JSON</span><span class="crayon-sy">.</span><span class="crayon-e">parse</span><span class="crayon-sy">(</span><span class="crayon-v">last_response</span><span class="crayon-sy">.</span><span class="crayon-i">body</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17df270899443-22">&nbsp;</div><div class="crayon-line" id="crayon-524b8b65c17df270899443-23"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">before</span><span class="crayon-sy">(</span><span class="crayon-o">:</span><span class="crayon-st">each</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-e">get </span><span class="crayon-i">url</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">token</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">token</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-p"># here's where API call made</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17df270899443-24">&nbsp;</div><div class="crayon-line" id="crayon-524b8b65c17df270899443-25"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">subject</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-i">data</span><span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17df270899443-26">&nbsp;</div><div class="crayon-line" id="crayon-524b8b65c17df270899443-27"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">it</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-e">should </span><span class="crayon-e">have</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-t">object</span><span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-524b8b65c17df270899443-28"><span class="crayon-st">end</span></div><div class="crayon-line" id="crayon-524b8b65c17df270899443-29">&nbsp;</div></div></td></tr></table></div></div><p></p><h2>Conclusion</h2><p>We&#8217;ve just gone through the following tricks:</p><ul><li>Minimum usable Metal controller</li><li>Simple versioning</li><li>Easy API views with RABL</li><li>Postresql native <code>uuid</code> type</li><li>API spec sample</li></ul><p>Sure, you&#8217;ll face a lot more issues in the wild but these basics intended to help you start up quickly.<br /> The last, but not the least &#8211; don&#8217;t forget about good documentation. Your API users will definitely appreciate it.</p><p>If you want to try all these tricks in the wild see recently released <a href="http://railsware.com/blog/2013/04/08/mailtrap-api/" >API</a> for our <a href="http://mailtrap.io" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://mailtrap.io']);">dummy SMTP server &#8211; Mailtrap.io</a></p><div class="addtoany_share_save_container"><div class="a2a_kit a2a_target addtoany_list" id="wpa2a_1"><a class="a2a_button_facebook_like addtoany_special_service" data-href="http://railsware.com/blog/2013/04/08/api-with-ruby-on-rails-useful-tricks/" ></a><a class="a2a_button_twitter_tweet addtoany_special_service" data-count="horizontal" data-url="http://railsware.com/blog/2013/04/08/api-with-ruby-on-rails-useful-tricks/" data-text="API with Ruby on Rails: useful tricks"></a><a class="a2a_button_google_plusone addtoany_special_service" data-href="http://railsware.com/blog/2013/04/08/api-with-ruby-on-rails-useful-tricks/" ></a><a class="a2a_dd addtoany_share_save" href="http://www.addtoany.com/share_save" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.addtoany.com']);"><img src="http://railsware.com/blog/wp-content/plugins/add-to-any/share_save_120_16.png" width="120" height="16" alt="Share"/></a></div><script type="text/javascript">wpa2a.script_load();</script></div> </section> <section class="entry-meta mbl"><p> Categories: <a href="http://railsware.com/blog/category/development/" title="View all posts in Development" rel="category tag">Development</a>, <a href="http://railsware.com/blog/category/random/" title="View all posts in Random" rel="category tag">Random</a></p><div class="entry-tags"> Tags: <a href="http://railsware.com/blog/tag/api/" rel="tag">api</a><a href="http://railsware.com/blog/tag/ror/" rel="tag">RoR</a><a href="http://railsware.com/blog/tag/ruby-on-rails/" rel="tag">Ruby on Rails</a></div> </section> <section class="entry-author-info"><div class="row"><div class="col1of6"> <img alt='' src='http://0.gravatar.com/avatar/443c42e0b34233b0fc0fa7bf228b43c8?s=70&amp;d=&amp;r=G' class='avatar avatar-70 photo' height='70' width='70' /></div><div class="col5of6"><h3><strong>Author:</strong> <a href='http://railsware.com/blog/author/innokenty-mihailov/' title='Innokenty Mihailov' rel='me'>Innokenty Mihailov</a></h3><p>Ruby engineer at Railsware*</p><p><a href="http://railsware.com/blog/author/innokenty-mihailov/">More blog posts by Innokenty Mihailov</a></p></div></div> </section><div class="annotation"> <span class="astrix">*</span> <a href="http://railsware.com">Railsware</a> is a premium software development consulting company, focused on delivering great web and mobile applications. <a href="http://railsware.com/company/why_railsware">Learn more about us.</a></div><div class="mbm"><div id="disqus_thread"><div id="dsq-content"><ul id="dsq-comments"><li class="comment even thread-even depth-1" id="dsq-comment-878"><div id="dsq-comment-header-878" class="dsq-comment-header"> <cite id="dsq-cite-878"> <span id="dsq-author-user-878">John Hinnegan</span> </cite></div><div id="dsq-comment-body-878" class="dsq-comment-body"><div id="dsq-comment-message-878" class="dsq-comment-message"><p>Thanks. Always cool to see how others are building api&#8217;s</p></div></div></li><li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-879"><div id="dsq-comment-header-879" class="dsq-comment-header"> <cite id="dsq-cite-879"> http://twitter.com/suaron <span id="dsq-author-user-879">Dmytro Piliugin</span> </cite></div><div id="dsq-comment-body-879" class="dsq-comment-body"><div id="dsq-comment-message-879" class="dsq-comment-message"><p>improved build_token function</p><p>def build_token<br /> begin<br /> token = SecureRandom.urlsafe_base64<br /> end while User.exists?(api_token: token)<br /> token<br /> end</p></div></div><ul class='children'><li class="comment even depth-2" id="dsq-comment-882"><div id="dsq-comment-header-882" class="dsq-comment-header"> <cite id="dsq-cite-882"> http://twitter.com/gregolsent <span id="dsq-author-user-882">Innokenty Mikhailov</span> </cite></div><div id="dsq-comment-body-882" class="dsq-comment-body"><div id="dsq-comment-message-882" class="dsq-comment-message"><p>Thanks! Post updated.</p></div></div></li></ul></li><li class="comment odd alt thread-even depth-1" id="dsq-comment-880"><div id="dsq-comment-header-880" class="dsq-comment-header"> <cite id="dsq-cite-880"> <span id="dsq-author-user-880">Alexander Korsak</span> </cite></div><div id="dsq-comment-body-880" class="dsq-comment-body"><div id="dsq-comment-message-880" class="dsq-comment-message"><p>Probably for reading purpose you can use &#8216;type: :api&#8217; instead of &#8216;api: true&#8217;. I haven&#8217;t tested this approach but it should definitely work properly.</p></div></div><ul class='children'><li class="comment even depth-2" id="dsq-comment-881"><div id="dsq-comment-header-881" class="dsq-comment-header"> <cite id="dsq-cite-881"> http://twitter.com/gregolsent <span id="dsq-author-user-881">Innokenty Mikhailov</span> </cite></div><div id="dsq-comment-body-881" class="dsq-comment-body"><div id="dsq-comment-message-881" class="dsq-comment-message"><p>Specifying &#8216;type: :api&#8217; for the &#8216;describe&#8217; block worked for me, but after updating to rspec 2.13.0 it works only if specifying for each &#8216;it&#8217; declaration separately. That&#8217;s why I switched to &#8216;api: true&#8217; which works for the wrapping &#8216;describe&#8217;</p></div></div></li></ul></li><li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-883"><div id="dsq-comment-header-883" class="dsq-comment-header"> <cite id="dsq-cite-883"> http://twitter.com/mattsolt <span id="dsq-author-user-883">Matt Solt</span> </cite></div><div id="dsq-comment-body-883" class="dsq-comment-body"><div id="dsq-comment-message-883" class="dsq-comment-message"><p>Any advice for generating public HTML documentation for a Rails API?</p></div></div></li><li class="comment even thread-even depth-1" id="dsq-comment-884"><div id="dsq-comment-header-884" class="dsq-comment-header"> <cite id="dsq-cite-884"> http://twitter.com/vassilevsky <span id="dsq-author-user-884">Илья Василевский</span> </cite></div><div id="dsq-comment-body-884" class="dsq-comment-body"><div id="dsq-comment-message-884" class="dsq-comment-message"><p>Rabl rendering is very slow for us. We see that it takes up to 50% of total response time. Are we doing something wrong? How fast Rabl is for you?</p></div></div><ul class='children'><li class="comment odd alt depth-2" id="dsq-comment-887"><div id="dsq-comment-header-887" class="dsq-comment-header"> <cite id="dsq-cite-887"> <span id="dsq-author-user-887">Innokenty Mihailov</span> </cite></div><div id="dsq-comment-body-887" class="dsq-comment-body"><div id="dsq-comment-message-887" class="dsq-comment-message"><p>Indeed, Rabl is a bit sluggish. However I&#8217;ve tried to switch to rabl-rails <a href="https://github.com/ccocchi/rabl-rails" onclick="javascript:_gaq.push(['_trackEvent','outbound-comment','http://github.com']);" rel="nofollow">https://github.com/ccocchi/rabl-rails</a> which is intended to improve performance and it gave me ~50% speedup in rendering complex requests (for example rendering collection of 30 objects takes ~100ms with Rabl and ~50ms with Rabl-rails).</p></div></div></li></ul></li><li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-885"><div id="dsq-comment-header-885" class="dsq-comment-header"> <cite id="dsq-cite-885"> <span id="dsq-author-user-885">Innokenty Mihailov</span> </cite></div><div id="dsq-comment-body-885" class="dsq-comment-body"><div id="dsq-comment-message-885" class="dsq-comment-message"><p>I think this commit is about removing Metal applications from Rails.<br /> Also it recommends:<br /> &#8220;For the future, you can use ActionController::Metal to get<br /> a very fast controller with the ability to opt-in to specific<br /> controller features without paying the penalty of the full<br /> controller stack.&#8221;</p><p>And the ActionController::Metal is still present in Ruby on Rails master branch <a href="http://bit.ly/114MDgN" onclick="javascript:_gaq.push(['_trackEvent','outbound-comment','http://bit.ly']);" rel="nofollow">http://bit.ly/114MDgN</a>.</p></div></div></li><li class="comment odd alt thread-even depth-1" id="dsq-comment-886"><div id="dsq-comment-header-886" class="dsq-comment-header"> <cite id="dsq-cite-886"> <span id="dsq-author-user-886">Innokenty Mihailov</span> </cite></div><div id="dsq-comment-body-886" class="dsq-comment-body"><div id="dsq-comment-message-886" class="dsq-comment-message"><p>Thanks for pointing, I&#8217;ll give it a look.</p></div></div></li><li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-890"><div id="dsq-comment-header-890" class="dsq-comment-header"> <cite id="dsq-cite-890"> http://twitter.com/shime_rb <span id="dsq-author-user-890">Hrvoje Šimić</span> </cite></div><div id="dsq-comment-body-890" class="dsq-comment-body"><div id="dsq-comment-message-890" class="dsq-comment-message"><p>If you like expressiveness  of Sinatra when it comes to routes, you could also include Sinatrify inside your ActionController::Metal. Gist with example: <a href="https://gist.github.com/shime/5429106" onclick="javascript:_gaq.push(['_trackEvent','outbound-comment','http://gist.github.com']);" rel="nofollow">https://gist.github.com/shime/5429106</a> <a href="https://github.com/shime/sinatrify#readme" onclick="javascript:_gaq.push(['_trackEvent','outbound-comment','http://github.com']);" rel="nofollow">https://github.com/shime/sinatrify#readme</a></p></div></div></li><li class="comment odd alt thread-even depth-1" id="dsq-comment-922"><div id="dsq-comment-header-922" class="dsq-comment-header"> <cite id="dsq-cite-922"> <span id="dsq-author-user-922">denisjacquemin</span> </cite></div><div id="dsq-comment-body-922" class="dsq-comment-body"><div id="dsq-comment-message-922" class="dsq-comment-message"><p>Hi, great post thanks, do you have a sample application using those tricks?</p></div></div></li><li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-933"><div id="dsq-comment-header-933" class="dsq-comment-header"> <cite id="dsq-cite-933"> <span id="dsq-author-user-933">alex li</span> </cite></div><div id="dsq-comment-body-933" class="dsq-comment-body"><div id="dsq-comment-message-933" class="dsq-comment-message"><p>api: ture works for me. i have tried a lots with :type=&gt; :api seems not working at all. this maybe related <a href="https://github.com/rspec/rspec-rails/issues/703" onclick="javascript:_gaq.push(['_trackEvent','outbound-comment','http://github.com']);" rel="nofollow">https://github.com/rspec/rspec-rails/issues/703</a></p></div></div></li><li class="post pingback"><p>Pingback: <a href="http://www.mashup.se/nyheter/nya-svenska-api-katalogen" onclick="javascript:_gaq.push(['_trackEvent','outbound-commentauthor','http://www.mashup.se']);"  rel='external nofollow' class='url'>Här är nya svenska API-katalogen! &raquo; API &#8211; Mashup.se</a></p></li></li></ul></div></div><script type="text/javascript">/*<![CDATA[*/var disqus_url='http://railsware.com/blog/2013/04/08/api-with-ruby-on-rails-useful-tricks/';var disqus_identifier='4508 http://railsware.com/blog/?p=4508';var disqus_container_id='disqus_thread';var disqus_domain='disqus.com';var disqus_shortname='railswareblog';var disqus_title="API with Ruby on Rails: useful tricks";var disqus_config=function(){var config=this;config.language='';config.callbacks.preData.push(function(){document.getElementById(disqus_container_id).innerHTML='';});config.callbacks.onReady.push(function(){var script=document.createElement('script');script.async=true;script.src='?cf_action=sync_comments&post_id=4508';var firstScript=document.getElementsByTagName("script")[0];firstScript.parentNode.insertBefore(script,firstScript);});};/*]]>*/</script><script type="text/javascript">/*<![CDATA[*/var DsqLocal={'trackbacks':[{'author_name':"Här är nya svenska API-katalogen! &raquo; API &#8211; Mashup.se",'author_url':"http:\/\/www.mashup.se\/nyheter\/nya-svenska-api-katalogen",'date':"08\/27\/2013 12:47 PM",'excerpt':"[...] jag ville ha det. APIet för version 2 är byggd med Ruby on Rails (med mycket inspiration från APIs ...",'type':"pingback"}],'trackback_url':"http:\/\/railsware.com\/blog\/2013\/04\/08\/api-with-ruby-on-rails-useful-tricks\/trackback\/"};/*]]>*/</script><script type="text/javascript">/*<![CDATA[*/(function(){var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;dsq.src='//'+disqus_shortname+'.'+'disqus.com'+'/embed.js?pname=wordpress&pver=2.74';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);})();/*]]>*/</script></div><div class="row"><div class="col1of2 prm"><h1 class="mbs">Most recent posts</h1><div class="post-list"><ul><li><a href="http://railsware.com/blog/2013/09/30/lets-go/">Let&#8217;s GO!</a></li><li><a href="http://railsware.com/blog/2013/09/26/getting-started-with-chef-server-part-2/">Getting Started with Chef Server. Part 2</a></li><li><a href="http://railsware.com/blog/2013/09/19/taming-the-git-daemon-to-quickly-share-git-repository/">Taming The Git-Daemon To Quickly Share Git Repository</a></li><li><a href="http://railsware.com/blog/2013/09/16/useful-google-spreadsheet-script-triggers/">Useful Google Spreadsheet Script Triggers</a></li><li><a href="http://railsware.com/blog/2013/09/12/ios-integration-tests-with-appium/">iOS Integration Tests With Appium</a></li></ul></div></div><div class="col1of2 plm"><h1 class="mbs">Most popular posts</h1><div class="post-list"><ul><li><a href="http://railsware.com/blog/2013/04/08/api-with-ruby-on-rails-useful-tricks/" title="API with Ruby on Rails: useful tricks" class="wpp-post-title">API with Ruby on Rails: useful tricks</a></li><li><a href="http://railsware.com/blog/2011/11/02/advanced-server-definitions-in-capistrano/" title="Advanced server definitions in Capistrano" class="wpp-post-title">Advanced server definitions in Capistrano</a></li><li><a href="http://railsware.com/blog/2012/04/23/postgresql-most-useful-extensions/" title="PostgreSQL most useful extensions" class="wpp-post-title">PostgreSQL most useful extensions</a></li><li><a href="http://railsware.com/blog/2013/04/19/getting-started-with-chef-server-part-1/" title="Getting Started with Chef Server. Part 1" class="wpp-post-title">Getting Started with Chef Server. Part 1</a></li><li><a href="http://railsware.com/blog/2012/03/13/ruby-2-0-enumerablelazy/" title="Ruby 2.0 Enumerable::Lazy" class="wpp-post-title">Ruby 2.0 Enumerable::Lazy</a></li></ul></div></div></div> </article><div class="row mbm"><div class="col1of2 by-center"><h3>Want to get more of Railsware blog?</h3> <a href="http://railsware.com/blog/feed/rss" class="rss-button">RSS FEED</a></div><div class="col1of2 by-center"><h3>We're always ready to help!</h3> <a href="http://railsware.com/contact" class="button">CONTACT US</a></div></div></div><div class="sidebar col1of4"> <aside id="follow-widget-2" class="widget follow_links"><ul class="followwrap row"><li class="icon_text"><a rel="nofollow me" target="_blank" href="http://railsware.com/blog/feed/rss/" title="RSS feed" ><img src="http://railsware.com/blog/wp-content/plugins/share-and-follow/images/blank.gif" height="48"  width="48" style="background: transparent url(http://railsware.com/blog/wp-content/plugins/share-and-follow/default/48/sprite-feb-48.png) no-repeat;padding:0;margin:0;height:48px;width:48px;background-position:-637px -49px" alt="RSS feed"/> <span class="head">RSS feed</span></a></li></ul><div class="clean"></div> </aside><aside id="search-4" class="widget widget_search"><form role="search" method="get" id="searchform" action="http://railsware.com/blog/" ><div><label class="screen-reader-text" for="s">Search for:</label> <input type="text" value="" name="s" id="s" /> <input type="submit" id="searchsubmit" value="Search" /></div></form></aside><aside id="text-7" class="widget widget_text"><div class="textwidget"><div id="mc_embed_signup"><form action="http://railsware.us6.list-manage.com/subscribe/post?u=aaeb18dadd4ab61e17c85c111&amp;id=03aa26580c" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate><div class="mc-field-group"><h3>Subscribe to our mailing list</h3> <input type="email" value="" name="EMAIL" class="required email" style="padding: 2px 5px; border: 1px solid #DDD;" id="mce-EMAIL" placeholder="email address" required> <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button" style="border: none; cursor: pointer;  padding: 3px 5px; border-radius: 2px; -webkit-border-radius: 2px;"></div><div id="mce-responses" class="clear"><div class="response" id="mce-error-response" style="display:none"></div><div class="response" id="mce-success-response" style="display:none"></div></div></form></div></div> </aside><aside id="categories-4" class="widget widget_categories"><h2 class="widget-title"> Categories</h2><ul><li class="cat-item cat-item-4"><a href="http://railsware.com/blog/category/business/" title="View all posts filed under Business">Business</a></li><li class="cat-item cat-item-52"><a href="http://railsware.com/blog/category/conferences/" title="View all posts filed under Conferences">Conferences</a></li><li class="cat-item cat-item-51"><a href="http://railsware.com/blog/category/design/" title="View all posts filed under Design">Design</a></li><li class="cat-item cat-item-3"><a href="http://railsware.com/blog/category/development/" title="View all posts filed under Development">Development</a></li><li class="cat-item cat-item-214"><a href="http://railsware.com/blog/category/development-process/" title="View all posts filed under Development process">Development process</a></li><li class="cat-item cat-item-11"><a href="http://railsware.com/blog/category/frontend/" title="View all posts filed under Front End">Front End</a></li><li class="cat-item cat-item-219"><a href="http://railsware.com/blog/category/google/" title="View all posts filed under Google">Google</a></li><li class="cat-item cat-item-207"><a href="http://railsware.com/blog/category/ios/" title="View all posts filed under iOS">iOS</a></li><li class="cat-item cat-item-127"><a href="http://railsware.com/blog/category/mac-osx/" title="View all posts filed under Mac OSX">Mac OSX</a></li><li class="cat-item cat-item-134"><a href="http://railsware.com/blog/category/mailtrap/" title="View all posts filed under Mailtrap">Mailtrap</a></li><li class="cat-item cat-item-5"><a href="http://railsware.com/blog/category/management/" title="View all posts filed under Management">Management</a></li><li class="cat-item cat-item-142"><a href="http://railsware.com/blog/category/marketing/" title="View all posts filed under Marketing">Marketing</a></li><li class="cat-item cat-item-216"><a href="http://railsware.com/blog/category/mobile-2/" title="View all posts filed under Mobile">Mobile</a></li><li class="cat-item cat-item-165"><a href="http://railsware.com/blog/category/monitoring/" title="View all posts filed under Monitoring">Monitoring</a></li><li class="cat-item cat-item-166"><a href="http://railsware.com/blog/category/new-relic/" title="View all posts filed under New Relic">New Relic</a></li><li class="cat-item cat-item-23"><a href="http://railsware.com/blog/category/office/" title="View all posts filed under Office">Office</a></li><li class="cat-item cat-item-215"><a href="http://railsware.com/blog/category/partners/" title="View all posts filed under Partners">Partners</a></li><li class="cat-item cat-item-186"><a href="http://railsware.com/blog/category/performance-2/" title="View all posts filed under Performance">Performance</a></li><li class="cat-item cat-item-6"><a href="http://railsware.com/blog/category/products/" title="View all posts filed under Products">Products</a></li><li class="cat-item cat-item-1"><a href="http://railsware.com/blog/category/random/" title="View all posts filed under Random">Random</a></li><li class="cat-item cat-item-225"><a href="http://railsware.com/blog/category/scripts/" title="View all posts filed under Scripts">Scripts</a></li></ul> </aside><aside id="text-3" class="widget widget_text"><div class="textwidget"><p><a href="http://railsware.com/" >Railsware</a> is a premium software development consulting company, focused on delivering great web and mobile applications. <a href="http://railsware.com/work/projects" >Learn more.</a></p><h3>We're always ready to help!</h3><p><a href="http://railsware.com/contact"  class="button">CONTACT US</a></p></div> </aside><aside id="tag_cloud-3" class="widget widget_tag_cloud"><h2 class="widget-title">Tags</h2><div class="tagcloud"><a href='http://railsware.com/blog/tag/api/' class='tag-link-39' title='3 topics' style='font-size: 10.333333333333pt;'>api</a> <a href='http://railsware.com/blog/tag/capistrano/' class='tag-link-32' title='7 topics' style='font-size: 16.166666666667pt;'>capistrano</a> <a href='http://railsware.com/blog/tag/capybara/' class='tag-link-72' title='3 topics' style='font-size: 10.333333333333pt;'>capybara</a> <a href='http://railsware.com/blog/tag/chef/' class='tag-link-190' title='6 topics' style='font-size: 15.194444444444pt;'>chef</a> <a href='http://railsware.com/blog/tag/client/' class='tag-link-104' title='3 topics' style='font-size: 10.333333333333pt;'>client</a> <a href='http://railsware.com/blog/tag/comparison/' class='tag-link-107' title='4 topics' style='font-size: 12.277777777778pt;'>comparison</a> <a href='http://railsware.com/blog/tag/component/' class='tag-link-151' title='3 topics' style='font-size: 10.333333333333pt;'>component</a> <a href='http://railsware.com/blog/tag/couchdb/' class='tag-link-78' title='3 topics' style='font-size: 10.333333333333pt;'>couchdb</a> <a href='http://railsware.com/blog/tag/css/' class='tag-link-15' title='5 topics' style='font-size: 13.833333333333pt;'>css</a> <a href='http://railsware.com/blog/tag/deployment/' class='tag-link-33' title='8 topics' style='font-size: 17.138888888889pt;'>deployment</a> <a href='http://railsware.com/blog/tag/design/' class='tag-link-51' title='7 topics' style='font-size: 16.166666666667pt;'>Design</a> <a href='http://railsware.com/blog/tag/development-2/' class='tag-link-62' title='3 topics' style='font-size: 10.333333333333pt;'>development</a> <a href='http://railsware.com/blog/tag/email/' class='tag-link-59' title='3 topics' style='font-size: 10.333333333333pt;'>email</a> <a href='http://railsware.com/blog/tag/extension/' class='tag-link-83' title='5 topics' style='font-size: 13.833333333333pt;'>extension</a> <a href='http://railsware.com/blog/tag/fireworks/' class='tag-link-100' title='3 topics' style='font-size: 10.333333333333pt;'>FireWorks</a> <a href='http://railsware.com/blog/tag/guidelines/' class='tag-link-17' title='2 topics' style='font-size: 8pt;'>guidelines</a> <a href='http://railsware.com/blog/tag/heroku/' class='tag-link-185' title='6 topics' style='font-size: 15.194444444444pt;'>heroku</a> <a href='http://railsware.com/blog/tag/hosting/' class='tag-link-28' title='3 topics' style='font-size: 10.333333333333pt;'>hosting</a> <a href='http://railsware.com/blog/tag/ios/' class='tag-link-207' title='4 topics' style='font-size: 12.277777777778pt;'>iOS</a> <a href='http://railsware.com/blog/tag/javascript/' class='tag-link-80' title='3 topics' style='font-size: 10.333333333333pt;'>javascript</a> <a href='http://railsware.com/blog/tag/library/' class='tag-link-150' title='3 topics' style='font-size: 10.333333333333pt;'>library</a> <a href='http://railsware.com/blog/tag/mailtrap/' class='tag-link-134' title='4 topics' style='font-size: 12.277777777778pt;'>Mailtrap</a> <a href='http://railsware.com/blog/tag/module/' class='tag-link-152' title='3 topics' style='font-size: 10.333333333333pt;'>module</a> <a href='http://railsware.com/blog/tag/monitoring-2/' class='tag-link-167' title='5 topics' style='font-size: 13.833333333333pt;'>monitoring</a> <a href='http://railsware.com/blog/tag/new-relic/' class='tag-link-166' title='5 topics' style='font-size: 13.833333333333pt;'>New Relic</a> <a href='http://railsware.com/blog/tag/nosql/' class='tag-link-81' title='3 topics' style='font-size: 10.333333333333pt;'>nosql</a> <a href='http://railsware.com/blog/tag/office-2010/' class='tag-link-26' title='2 topics' style='font-size: 8pt;'>office-2010</a> <a href='http://railsware.com/blog/tag/oocss/' class='tag-link-41' title='3 topics' style='font-size: 10.333333333333pt;'>oocss</a> <a href='http://railsware.com/blog/tag/org/' class='tag-link-27' title='2 topics' style='font-size: 8pt;'>org</a> <a href='http://railsware.com/blog/tag/photoshop/' class='tag-link-99' title='3 topics' style='font-size: 10.333333333333pt;'>Photoshop</a> <a href='http://railsware.com/blog/tag/pivotal/' class='tag-link-68' title='3 topics' style='font-size: 10.333333333333pt;'>pivotal</a> <a href='http://railsware.com/blog/tag/pivotalbooster/' class='tag-link-69' title='3 topics' style='font-size: 10.333333333333pt;'>pivotalbooster</a> <a href='http://railsware.com/blog/tag/postgresql/' class='tag-link-94' title='4 topics' style='font-size: 12.277777777778pt;'>postgresql</a> <a href='http://railsware.com/blog/tag/productivity/' class='tag-link-88' title='12 topics' style='font-size: 20.25pt;'>productivity</a> <a href='http://railsware.com/blog/tag/products/' class='tag-link-6' title='2 topics' style='font-size: 8pt;'>Products</a> <a href='http://railsware.com/blog/tag/rails/' class='tag-link-48' title='14 topics' style='font-size: 21.611111111111pt;'>rails</a> <a href='http://railsware.com/blog/tag/railsware/' class='tag-link-101' title='4 topics' style='font-size: 12.277777777778pt;'>Railsware</a> <a href='http://railsware.com/blog/tag/ror/' class='tag-link-149' title='3 topics' style='font-size: 10.333333333333pt;'>RoR</a> <a href='http://railsware.com/blog/tag/rspec/' class='tag-link-71' title='3 topics' style='font-size: 10.333333333333pt;'>rspec</a> <a href='http://railsware.com/blog/tag/ruby/' class='tag-link-109' title='15 topics' style='font-size: 22pt;'>ruby</a> <a href='http://railsware.com/blog/tag/ruby-conferences/' class='tag-link-53' title='3 topics' style='font-size: 10.333333333333pt;'>ruby conferences</a> <a href='http://railsware.com/blog/tag/scalability/' class='tag-link-10' title='2 topics' style='font-size: 8pt;'>scalability</a> <a href='http://railsware.com/blog/tag/sysadmin/' class='tag-link-19' title='2 topics' style='font-size: 8pt;'>sysadmin</a> <a href='http://railsware.com/blog/tag/testing/' class='tag-link-66' title='3 topics' style='font-size: 10.333333333333pt;'>testing</a> <a href='http://railsware.com/blog/tag/ui/' class='tag-link-98' title='9 topics' style='font-size: 18.111111111111pt;'>UI</a></div> </aside><div class="widget"><h3 class="mbm">Products by <span class="railsware">Railsware</span></h3> <a href="http://mailtrap.io" target="_blank"><img src="http://railsware.com/blog/wp-content/themes/railsware/images/mailtrap_logo.png" alt="" /></a><p>Mailtrap is a web service that saves software development teams from accidentally spamming real customers during e-mail notifications testing.</p></div><div class="widget"> <a href="http://pivotalbooster.com" target="_blank"><img src="http://railsware.com/blog/wp-content/themes/railsware/images/booster_logo.png" alt="" /></a><p>The PivotalBooster is a simple and fast Mac OS client for the popular Pivotal Tracker service.</p></div></div></div> </section></div> <footer class="footer"><div class="container"><div class="row"><div class="col1of3"><p class="mbm">&copy; 2006–2012<br />Railsware LLC</p><p class=""> <span class="light mrs">+1 (810) 515 8322</span> <a href="mailto:contact@railsware.com" class="email-link mrs"></a> <a href="skype:sergey.korolev?chat" class="skype-link mrs"></a></p></div><div class="col1of3"><p><div>European HQ</div><div>10-A Naberezhno-Kreshchatitska</div><div>Kiev 04070, Ukraine</div> <a href="https://maps.google.com/maps?q=%D0%9D%D0%B0%D0%B1%D0%B5%D1%80%D0%B5%D0%B6%D0%BD%D0%BE-%D0%A5%D1%80%D0%B5%D1%89%D0%B0%D1%82%D0%B8%D1%86%D1%8C%D0%BA%D0%B0+%D0%B2%D1%83%D0%BB.,+10-%D0%90,+%D0%9A%D0%B8%D1%97%D0%B2,+%D0%BC%D1%96%D1%81%D1%82%D0%BE+%D0%9A%D0%B8%D1%97%D0%B2,+%D0%A3%D0%BA%D1%80%D0%B0%D1%97%D0%BD%D0%B0&hl=uk&ie=UTF8&sll=50.470542,30.524617&sspn=0.002298,0.005499&hnear=%D0%9D%D0%B0%D0%B1%D0%B5%D1%80%D0%B5%D0%B6%D0%BD%D0%BE-%D0%A5%D1%80%D0%B5%D1%89%D0%B0%D1%82%D0%B8%D1%86%D1%8C%D0%BA%D0%B0+%D0%B2%D1%83%D0%BB.,+10%D0%90,+%D0%9A%D0%B8%D1%97%D0%B2,+%D0%BC%D1%96%D1%81%D1%82%D0%BE+%D0%9A%D0%B8%D1%97%D0%B2,+%D0%A3%D0%BA%D1%80%D0%B0%D1%97%D0%BD%D0%B0&t=m&z=16" target="_blank">View on map</a></p></div><div class="col1of3"><div class="col1of3 mobile-off"> <nav><ul class="footer-nav"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2108"><a title="COMPANY" href="http://railsware.com/company/why_railsware" >COMPANY</a></li><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2119"><a title="WORK" href="http://railsware.com/work/projects" >WORK</a></li><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2562"><a title="APPROACH" href="http://railsware.com/approach/whole_process/approach" >APPROACH</a></li><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2563"><a href="http://railsware.com/team/railswarians" >TEAM</a></li><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2564"><a title="CONTACT" href="http://railsware.com/contact" >CONTACT</a></li><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-2565"><a href="http://railsware.com/blog" >BLOG</a></li></ul> </nav></div><div class="col2of3"><div class="socials"> <a href="http://railsware.github.com/" target="_blank" class="github-link"></a> <a href="http://www.facebook.com/railsware" target="_blank" class="facebok-link"></a> <a href="https://twitter.com/#!/railsware" target="_blank" class="twitter-link"></a> <a href="https://vimeo.com/railsware" target="_blank" class="vimeo-link"></a> <a href="http://www.flickr.com/photos/railsware" target="_blank" class="flickr-link"></a></div></div></div></div></div> </footer><script type="text/javascript">/*<![CDATA[*/wpa2a.targets=[{title:'API with Ruby on Rails: useful tricks',url:'http://railsware.com/blog/2013/04/08/api-with-ruby-on-rails-useful-tricks/'}];wpa2a.html_done=true;if(wpa2a.script_ready&&!wpa2a.done)wpa2a.init();wpa2a.script_load();/*]]>*/</script><script type="text/javascript">(function(d,w,c){(w[c]=w[c]||[]).push(function(){try{w.yaCounter15026521=new Ya.Metrika({id:15026521,enableAll:true,webvisor:true});}catch(e){}});var n=d.getElementsByTagName("script")[0],s=d.createElement("script"),f=function(){n.parentNode.insertBefore(s,n);};s.type="text/javascript";s.async=true;s.src=(d.location.protocol=="https:"?"https:":"http:")+"//mc.yandex.ru/metrika/watch.js";if(w.opera=="[object Opera]"){d.addEventListener("DOMContentLoaded",f);}else{f();}})(document,window,"yandex_metrika_callbacks");</script><noscript><div><img src="//mc.yandex.ru/watch/15026521" style="position:absolute; left:-9999px;" alt="" /></div></noscript> <script type="text/javascript">jQuery(document).ready(function(){jQuery(".mobile-nav-toggler").click(function(e){e.preventDefault();el=jQuery("nav.navigation");if(el.hasClass("shown")){el.hide().removeClass("shown");}else{el.show().addClass("shown");}});})</script></body></html>