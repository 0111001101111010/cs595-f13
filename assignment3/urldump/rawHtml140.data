

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head><meta http-equiv="X-UA-Compatible" content="IE=10; IE=9; IE=8;" /><meta name="robots" content="index,follow" />
<meta name="description" content="The .NET blog (AKA: dotnet blog) discusses new features in the .NET Framework and important issues for .NET developers." />
<meta name="keywords" content=".NET, .NET Framework, 4.5, C#, Windows Store, Windows Azure, Windows Phone, Windows, programming, async,dotnet" />
<meta name="GENERATOR" content="Telligent Evolution Platform Developer Build (Build: 5.6.50428.7875)" />
<link rel="pingback" href="http://blogs.msdn.com/b/dotnet/pingback.aspx" />
<link rel="alternate" type="application/rss+xml" title="Site Home (RSS 2.0)" href="http://blogs.msdn.com/rss.aspx"  />
<link rel="alternate" type="application/rss+xml" title="Immo Landwerth [MSFT]&#39;s Comments (RSS 2.0)" href="/members/terrajobst_4000_web.de/comments/rss.aspx"  />
<link rel="alternate" type="application/rss+xml" title="Immo Landwerth [MSFT]&#39;s Activities (RSS 2.0)" href="/members/terrajobst_4000_web.de/activities/rss.aspx"  />
<link rel="alternate" type="application/rss+xml" title="Activities of People Immo Landwerth [MSFT] Follows (RSS 2.0)" href="/members/terrajobst_4000_web.de/activities/followersrss.aspx"  />
<link rel="alternate" type="application/rss+xml" title="Immo Landwerth [MSFT]&#39;s Groups Activities (RSS 2.0)" href="/members/terrajobst_4000_web.de/activities/groupsrss.aspx"  />
<link rel="alternate" type="application/rss+xml" title=".NET Blog (RSS 2.0)" href="http://blogs.msdn.com/b/dotnet/rss.aspx"  />
<link rel="alternate" type="application/atom+xml" title=".NET Blog (Atom 1.0)" href="http://blogs.msdn.com/b/dotnet/atom.aspx"  />
<link rel="alternate" type="application/rss+xml" title=".NET Blog - All Comments (RSS 2.0)" href="http://blogs.msdn.com/b/dotnet/rsscomments.aspx"  />
<link rel="alternate" type="application/rss+xml" title="Immutable collections ready for prime time - Comments for this post (RSS 2.0)" href="http://blogs.msdn.com/b/dotnet/rsscomments.aspx?WeblogPostID=10452116"  />

            <link href="http://i1.blogs.msdn.com/rrcontent/9850a24327f85f4b891186ee70df506b-0d4983fe65dab9bc4d5debb4ec97b3a6-RequestReducedStyle.css" rel="Stylesheet" type="text/css" />        
          <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
          <link rel="shortcut icon" type="image/ico" href="/themes/wireframe/favicon.ico" />
          <!--
            Third party scripts and code linked to or referenced from this website are licensed to you by the parties that own such code, not by Microsoft.  See ASP.NET Ajax CDN Terms of Use – http://www.asp.net/ajaxlibrary/CDN.ashx.
          -->
          <link href="http://i1.blogs.msdn.com/rrcontent/1eae160ea2c1e5cb3196f8c18470cca1-9728b852b1bb5db880b4edfc37d5eac6-RequestReducedStyle.css" rel="Stylesheet" type="text/css" /><script src="http://ajax.aspnetcdn.com/ajax/jquery/jquery-1.5.2.min.js" type="text/javascript" language="javascript"></script>
                  
          		
          <link type="text/css" rel="stylesheet" href="/themes/wireframe/css/DynamicStyle.aspx?PreviewKey=0" media="screen,print" />
          <link type="text/css" rel="stylesheet" href="/themes/blogs/wireframe/css/DynamicStyle.aspx?WeblogID=11234&PreviewKey=0" media="screen,print" />
        
          <!--[if lte IE 6]>
              <link type="text/css" rel="stylesheet" href="/themes/wireframe/css/ie6.css" media="screen,print" />
          <![endif]-->
                  <meta name="msvalidate.01" content="B717AD6FC29D3A844832AF011B5F9E4C" />
<meta property="og:title" content=".NET Blog" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://blogs.msdn.com/b/dotnet" />
<meta property="og:image" content="http://sphotos-a.xx.fbcdn.net/hphotos-ash3/523742_181166922021751_1416161093_n.png" />
<meta property="og:site_name" content=".NET Blog" />
<meta property="fb:admins" content="100004727463118" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://blogs.msdn.com/b/dotnet/rsd.ashx" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" title="WLWManifest" href="http://blogs.msdn.com/b/dotnet/wlwmanifest.ashx" />

        <!--
            Third party scripts and code linked to or referenced from this website are licensed to you by the parties that own such code, not by Microsoft.  See ASP.NET Ajax CDN Terms of Use – http://www.asp.net/ajaxlibrary/CDN.ashx.
          -->
        <script src="http://ajax.aspnetcdn.com/ajax/jquery/jquery-1.5.2.min.js" type="text/javascript" language="javascript"></script>
    <title>
	Immutable collections ready for prime time - .NET Blog - Site Home - MSDN Blogs
</title></head>
	<body spellcheck="true">
		<form name="aspnetForm" method="post" action="/b/dotnet/archive/2013/09/25/immutable-collections-ready-for-prime-time.aspx" id="aspnetForm">
<div>
<input type="hidden" name="ctl00_content_ctl00_w_144658__a6907d_ctl00_ctl00_ctl00_ctl05_bpCommentForm_ctl05_invisibleCaptcha_answer" id="ctl00_content_ctl00_w_144658__a6907d_ctl00_ctl00_ctl00_ctl05_bpCommentForm_ctl05_invisibleCaptcha_answer" value="" />
<input type="hidden" name="ctl00_content_ctl00_w_144658__a6907d_ctl00_ctl00_ctl00_ctl05_bpCommentForm_ctl05_invisibleCaptcha_encrypted" id="ctl00_content_ctl00_w_144658__a6907d_ctl00_ctl00_ctl00_ctl05_bpCommentForm_ctl05_invisibleCaptcha_encrypted" value="STJ1OVECeq8ph4uTa8n2nm3O11cvMvtOZdbf+eF5bpg=" />
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwUKMTM5OTAxNDYyNWRkvI787cXLvh9XHlDReEjVejxzcZ4=" />
</div>


<script src="http://i1.blogs.msdn.com/rrcontent/daae5794f2108832c4adb6ed364cb4c1-00799335d6163cf6e2f11d190bbb4c90-RequestReducedScript.js" type="text/javascript" ></script>
			
            
                
            
            <div class="header-fragments-header"></div>
<div class="header-fragments"><div class="header-fragment-outer top-bar wireframe-header-fragment-outer wireframe-top-bar"><div class="header-fragment-inner top-bar wireframe-header-fragment-inner wireframe-top-bar"><div class="header-fragment welcome-message" id="header-fragment-247403536">


<!-- always render -->
</div><div class="header-fragment login-logout" id="header-fragment-247403537">





        <div class="navigation-list-header"></div>
        <ul class="navigation-list">

            <li class="navigation-item">
                <span id="ctl00_header_fragment_247403537__a6907d_ctl00_ctl02_ctl05_WLIDLoginButton1" class="internal-link live-id-button"><a href="https://login.live.com/login.srf?wa=wsignin1.0&rpsnv=11&ct=1380681967&rver=6.0.5286.0&wp=MBI&wreply=http:%2F%2Fblogs.msdn.com%2Fb%2Fdotnet%2Farchive%2F2013%2F09%2F25%2Fimmutable-collections-ready-for-prime-time.aspx&lc=1033&id=271611">Sign in</a></span>
            </li>
        </ul>
        <div class="navigation-list-footer"></div>
    </div><div class="header-fragment user-welcome-without-login" id="header-fragment-247403538">

 &nbsp;<!-- always render -->

</div></div></div><div class="header-fragment-outer wireframe-header-fragment-outer site-banner"><div class="header-fragment-inner wireframe-header-fragment-inner site-banner"><div class="header-fragment site-banner" id="header-fragment-247403539">


<div class="site-banner-header"></div>
<div class="site-banner">
    
    
    
            <div class="site-logo"><a href="/">
                    <img src="/themes/MSDN2/images/MSDN/logo_msdn.png" alt="" style="border-width:0px;" />
                </a></div>
        
</div>
<div class="site-banner-footer"></div></div></div></div><div class="header-fragment-outer wireframe-header-fragment-outer search"><div class="header-fragment-inner wireframe-header-fragment-inner search"><div class="header-fragment search" id="header-fragment-247403540">

<div class="field-list-header">
</div>
<fieldset class="field-list">
    <ul class="field-list">
        <li class="field-item"><span class="field-item-input">
            <input id="SearchTextBox_Header" name="SearchTextBox_Header" type="text" class="search empty"
                autocomplete="off" />
            <input id="SearchButton_Header" name="SearchButton_Header" type="image" class="search-button"
                src="/Utility/images/MSDNTechnet/trans.gif" />
        </span></li>
        <li id="ctl00_header_fragment_247403540__a6907d_ctl00_SearchOptionsButtonWrapper" class="field-item"><span class="field-item-input">
            <a class="internal-link search-options" title="Change Search Scope">
                &nbsp;</a> </span></li>
    </ul>
</fieldset>
<div class="field-list-footer">
</div>
<script src="http://i4.services.social.microsoft.com/Search/Widgets/SearchBox.jss?boxid=SearchTextBox_Header&btnid=SearchButton_Header&brand=MSDN&refinement=109&resref=&addEnglish=&rn=&rq=&watermark=&focusOnInit=false&beta=0&iroot=&overrideWatermark=false" type="text/javascript" language="javascript"></script>

<script type="text/javascript" language="javascript">
    if ($.browser && $.browser.mozilla) {
        $('#SearchButton_Header').parent().append('<span style="background: white url(/Utility/images/MSDNTechnet/common.png) 0 -20px no-repeat;display:block;height:22px;overflow:hidden;width:47px;position:absolute;right:22px"></span>');
    } else {
        $('#SearchButton_Header').parent().append('<span style="background: white url(/Utility/images/MSDNTechnet/common.png) 0 -20px no-repeat;display:block;height:22px;overflow:hidden;width:47px;position:absolute;right:-17px"></span>');
    }
</script>
</div></div></div><div class="header-fragment-outer wireframe-header-fragment-outer group-navigation"><div class="header-fragment-inner wireframe-header-fragment-inner group-navigation"><div class="header-fragment group-navigation" id="header-fragment-247403541">

<script src="http://i1.blogs.msdn.com/rrcontent/44a500773671f30bd4ba3b0c7bba2359-14e0c332a84e56b6d37629b4d8cac65a-RequestReducedScript.js" type="text/javascript" ></script>
    
<div id="ctl00_header_fragment_247403541__a6907d_ctl00_ctl00_ParentGroupListContainer" class="parent-container" style="width: 100%">
<div class="parent-sub-container">
	
            <div class="navigation-list-header"></div>
            <ul class="navigation-list parent">
            <li class="navigation-item" style="display: none;">
                <a href="/">MSDN Blogs</a>
            </li>
        
            <li class="navigation-item entry" style="display: none;">
				
						<a class="internal-link view-group" href="/Microsoft_Blog_Images/"><span></span>Microsoft Blog Images</a>
					
            </li>
        
			
            <li class="navigation-item last">
				<a id="MoreLink" style="display:none;" onmouseover="Core_GroupNavigation_MoreShowNav(ctl00_header_fragment_247403541, true, this)" onmouseout="Core_GroupNavigation_MoreMouseOutPopup(ctl00_header_fragment_247403541, true, this)" href="#">More ...</a>
            </li>
            </ul>
            <div class="navigation-list-footer"></div>
        
</div>
</div>
<div id="ctl00_header_fragment_247403541__a6907d_ctl00_ctl00_GroupNavigationPopup" style="position:absolute;visibility:hidden;left:-5000px;"></div>
<div id="ctl00_header_fragment_247403541__a6907d_ctl00_ctl00_ParentMore" style="display: none;">
    <div class="content-list-header"></div>
    <ul id="ParentMoreListheader-fragment-247403541" class="content-list">
    </ul>
    <div class="content-list-footer"></div>
</div>
<div id="ctl00_header_fragment_247403541__a6907d_ctl00_ctl00_ChildMore" style="display: none;">
    <div class="content-list-header"></div>
    <ul id="ChildMoreListheader-fragment-247403541" class="content-list">
    </ul>
    <div class="content-list-footer"></div>
</div>
	
<script type="text/javascript">
    // <![CDATA[
    
    var Core_GroupNavigation_AjaxEndpoint = '/Utility/HeaderFragments/Core/GroupNavigationAjax.asmx';
        
    var ctl00_header_fragment_247403541={"wrapperId":"header-fragment-247403541","variableName":"ctl00_header_fragment_247403541","parameter":{"currentGroupId":0,"popupMenuId":"ctl00_header_fragment_247403541__a6907d_ctl00_ctl00_GroupNavigationPopup","popupParentMoreId":"ctl00_header_fragment_247403541__a6907d_ctl00_ctl00_ParentMore","popupChildMoreId":"ctl00_header_fragment_247403541__a6907d_ctl00_ctl00_ChildMore","popupWrapperID":"popup-ctl00_header_fragment_247403541__a6907d_ctl00_ctl00_GroupNavigationPopup","mouseInPopup":false,"popupPopulated":false,"errorHtml":"<div class=\"message error\">An error occured while attempting to load groups.</div>","loadingHtml":"<div class=\"message loading\">Loading...</div>","groupNavigationContentWrapperHtmlBlock":"<div id=\"popup-ctl00_header_fragment_247403541__a6907d_ctl00_ctl00_GroupNavigationPopup\">{GroupNavigationContent}</div>","groupNavigationListHtmlBlock":"<div class=\"multiple-column-list-header\"></div>\n<div class=\"multiple-column-list columns-{ColumnsCount}\">{Columns}</div>\n<div class=\"multiple-column-list-footer\"></div>","columnWrapperHtmlBlock":"<div class=\"multiple-column-item column-{ColumnId}\">{T1GroupsData}</div>","t1GroupHtmlBlock":"\r\n\t\t<div class=\"content-list-header\"></div>\r\n\t\t<div class=\"content-list-name{NameClass}\">{Name}</div>\r\n\t\t<ul class=\"content-list\">\r\n\t\t\t{Groups}\r\n\t\t</ul>\r\n\t\t<div class=\"content-list-footer\"></div>\r\n\t","t2GroupHtmlBlock":"<li class=\"content-item{ItemClass}\">{Item}</li>","viewAllHtmlBlock":"<a href=\"{Url}\" class=\"internal-link view-all\">{Text}</a>","linkHtmlBlock":"<a href=\"{Url}\" class=\"{MoreClass}\">{Name}</a>","searchResultItemHtmlBlock":"<li class=\"content-item\"><a href=\"{Url}\">{Name}</a></li>","viewMoreText":"and {MoreText} more..."}};

	$(document).ready(function() {
		Core_GroupNavigation_SetMenuItems("#ctl00_header_fragment_247403541__a6907d_ctl00_ctl00_ParentGroupListContainer", true, "ParentMoreListheader-fragment-247403541");
		Core_GroupNavigation_SetMenuItems("#ctl00_header_fragment_247403541__a6907d_ctl00_ctl00_ChildGroupListContainer", false, "ChildMoreListheader-fragment-247403541");
	});

	$(window).resize(function() {
		Core_GroupNavigation_SetMenuItems("#ctl00_header_fragment_247403541__a6907d_ctl00_ctl00_ParentGroupListContainer", true, "ParentMoreListheader-fragment-247403541");
		Core_GroupNavigation_SetMenuItems("#ctl00_header_fragment_247403541__a6907d_ctl00_ctl00_ChildGroupListContainer", false, "ChildMoreListheader-fragment-247403541");
	});
    // ]]>
</script></div></div></div></div>
<div class="header-fragments-footer"></div>
			
    <div class="content-fragment-page post" id="ctl00_content_ctl00_page"><div class="layout">
<div class="layout-header"></div>
<div class="layout-content header-top-content-left-sidebar-right" id="ctl00_content_ctl00_layout">
<div class="layout-region header" id="ctl00_content_ctl00_header">
<div class="layout-region-inner header"><div class="content-fragment raw-html no-wrapper" id="fragment-144638">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-content">
<div class="user-defined-markup">﻿<script type="text/javascript">
    var _daAnalytics = _daAnalytics || {}; _daAnalytics.init = function (d) {_daAnalytics.Commands = _daAnalytics.Commands || []; for (var a = function (a) { return function () { _daAnalytics.Commands.push([a].concat(Array.prototype.slice.call(arguments, 0))) } }, b = "siteId trackLinkClicks setUserId setProperty setView trackPage trackAction trackEvent trackView setAppId setAccountId setUserId".split(" "), c = 0; c < b.length; c++) _daAnalytics[b[c]] = a(b[c]); _daAnalytics.setAppId(d); var a = document.createElement("script"); a.type = "text/javascript"; a.src = "//az416426.vo.msecnd.net/scripts/da.js"; a.async = !0; var b = document.getElementsByTagName("script")[0]; b.parentNode.insertBefore(a, b); };
        
        _daAnalytics.init("23bf885d-8b68-4e8f-97d8-a55ead01f2af");
        _daAnalytics.trackPage();
</script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38776283-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></div></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment blog-title full-border" id="fragment-144639">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-content">
<h1 class="title">
	    
			        
			    
	                Immutable collections ready for prime time
			    
	</h1></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment blog-bread-crumbs no-wrapper-with-spacing" id="fragment-144640">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-content">


<div class="breadcrumb-list-header"></div>
<div class="breadcrumb-list">
	<span class="breadcrumb-item"><a class="internal-link view-home" href="/">MSDN Blogs</a></span>
  
	

	
			<span class="separator"> > </span>
			<span class="breadcrumb-item">
		<a href="/b/dotnet/">.NET Blog</a>
			</span>
		
	
	
			<span class="separator"> > </span>
			<span class="breadcrumb-item">
		<a href="/b/dotnet/archive/2013/09/25/immutable-collections-ready-for-prime-time.aspx">Immutable collections ready for prime time</a>
			</span>
		

	
</div>
<div class="breadcrumb-list-footer"></div>
</div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment raw-html no-wrapper" id="fragment-144641">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-content">
<div class="user-defined-markup"><div id="stb-breadcrumbs">
  <div class="breadcrumb-list">
    <span class="breadcrumb-item"><a href="http://blogs.technet.com/b/serverandtools/">Server &amp; Tools Blogs</a></span>
    <span class="separator"> &gt; </span>
    <span class="breadcrumb-item"><a href="http://blogs.msdn.com/b/developer-tools/">Developer Tools Blogs</a></span><span class="separator"> &gt; </span><span class="breadcrumb-item2">.NET Framework Blog</span>
  </div>
</div>
<div id="stb-header">
          <ul class="stb-nav"> 
    <li>
      <a href="#" class="menu-title">Executive Bloggers<b><!--style element: drop-down arrow--></b></a>
      <ul class="stb-nav-drop">
        <b><!--style element: partial white border atop the drop-down menu--></b>					
        <li><a href="http://blogs.msdn.com/b/somasegar/">S. Somasegar</a></li>
        <li><a href="http://blogs.msdn.com/b/bharry/">Brian Harry</a></li>
        <li><a href="http://weblogs.asp.net/scottgu/" target="_blank">Scott Guthrie</a></li>
        <li><a href="http://blogs.msdn.com/b/jasonz/">Jason Zander</a></li>
      </ul>
    </li>
    <li>
      <a href="#" class="menu-title">Visual Studio<b><!--style element: drop-down arrow--></b></a>
      <ul class="stb-nav-drop">
        <b><!--style element: partial white border atop the drop-down menu--></b>
        <li><a href="http://blogs.msdn.com/b/visualstudio">Visual Studio</a></li>
        <li><a href="http://blendinsider.com/" target="_blank">Blend</a></li>
        <li><a href="http://blogs.msdn.com/b/lightswitch/">LightSwitch</a></li>
        <li><a href="http://blogs.msdn.com/b/bethmassi/archive/tags/devcenter/">Line of Business Apps by Beth Massi</a></li>
        <li><a href="http://blogs.msdn.com/b/heaths/">Setup &amp; Install by Heath Stewart</a></li>
      </ul>
    </li>
    <li>
      <a href="#" class="menu-title">Application Lifecycle Management<b><!--style element: drop-down arrow--></b></a>
      <ul class="stb-nav-drop">
        <b><!--style element: partial white border atop the drop-down menu--></b>
        <li><a href="http://blogs.msdn.com/b/visualstudioalm/">Visual Studio ALM</a></li>
        <li><a href="http://tfs.visualstudio.com/en-us/home/news/" target="_blank">Team Foundation Service</a></li>
      </ul>		
    </li>
    <li>
      <a href="#" class="menu-title">Languages<b><!--style element: drop-down arrow--></b></a>
      <ul class="stb-nav-drop">
        <b><!--style element: partial white border atop the drop-down menu--></b>
        <li><a href="http://blogs.msdn.com/b/vbteam/">Visual Basic</a></li>
        <li><a href="http://blogs.msdn.com/b/csharpfaq/">Visual C#</a></li>
        <li><a href="http://blogs.msdn.com/b/vcblog/">Visual C++</a></li>
        <li><a href="http://blogs.msdn.com/b/fsharpteam/">Visual F#</a></li>
        <li><a href="http://sxp.microsoft.com/feeds/3.0/devblogs/Languages?SourceFeedId=2427%20OR%202428%20OR%202429%20OR%202430" target="_blank">JavaScript</a></li>
		<li><a href="http://blogs.msdn.com/b/typescript/">TypeScript</a></li>
      </ul>				
    </li>
    <li>
      <a href="#" class="menu-title">.NET Framework<b><!--style element: drop-down arrow--></b></a>
      <ul class="stb-nav-drop">
        <b><!--style element: partial white border atop the drop-down menu--></b>
        <li><a href="http://blogs.msdn.com/b/dotnet/">.NET Framework</a></li>
        <li><a href="http://blogs.msdn.com/b/pfxteam/">.NET Parallel Programming</a></li>
        <li><a href="http://blogs.msdn.com/b/adonet/">ADO.NET (Managed Providers, DataSet &amp; EF)</a></li>
        <li><a href="http://www.hanselman.com/blog/CategoryView.aspx?category=ASP.NET" target="_blank">ASP.NET by Scott Hanselman</a></li>
        <li><a href="http://blogs.msdn.com/b/bclteam/">Base Class Library (BCL)</a></li>
        <li><a href="http://blogs.msdn.com/b/silverlight/">Silverlight</a></li>
        <li><a href="http://blogs.msdn.com/b/astoriateam/">WCF Data Services</a></li>
        <li><a href="http://blogs.msdn.com/b/workflowteam/" target="_blank">Workflow</a></li>
      </ul>				
    </li>
    <li>
      <a href="#" class="menu-title">Platform Development<b><!--style element: drop-down arrow--></b></a>
      <ul class="stb-nav-drop">
        <b><!--style element: partial white border atop the drop-down menu--></b>
        <li><a href="http://blogs.msdn.com/b/ie/archive/tags/developers/" target="_blank">Internet Explorer</a></li>
		<li><a href="http://blogs.msdn.com/b/officeapps/" target="_blank">Apps for Office and SharePoint 2013</a></li>
        <li><a href="http://blogs.msdn.com/b/sharepointdev/" target="_blank">SharePoint</a></li>
        <li><a href="http://blogs.msdn.com/b/vsto/">Office</a></li>
        <li><a href="http://blogs.msdn.com/b/webdevtools/">Web</a></li>
        <li><a href="http://blogs.msdn.com/b/windowsappdev/" target="_blank">Windows 8</a></li>
        <li><a href="http://blogs.msdn.com/b/windowsstore/" target="_blank">Windows Store</a></li>
        <li><a href="http://blogs.msdn.com/b/windowsazure/archive/tags/developer/" target="_blank">Windows Azure</a></li>
        <li><a href="http://windowsteamblog.com/windows_phone/b/wpdev/" target="_blank">Windows Phone</a></li>
      </ul>				
    </li>
  </ul><div class="description-container">
    <div class="description">
      <a href="/b/dotnet/"><h2>.NET Framework Blog</h2></a>
      <p class="tagline">A first hand look from the .NET engineering teams</p>
    </div>
    <a class="logo" href="http://www.microsoft.com/visualstudio/"></a>
  </div>
</div>

<script type="text/javascript">
$(document).ready(function() {

<!-- Begin drop-down menu -->
  $("#stb-header > .stb-nav")
    .mouseleave(function () {
      $(this)
        .find("a.menu-title")
          .removeClass("expanded")
        .end()
        .find(".stb-nav-drop")
          .removeClass("expanded");
    })
	.find("a.menu-title")
	.click(function(e) {
		  e.preventDefault();
		  e.stopImmediatePropagation();
		  
		  $(this).parents('li:first').find(".stb-nav-drop")
            .toggleClass("expanded")
          .end()
          .find("a.menu-title")
            .toggleClass("expanded")
          .end()
          .siblings()
            .find("a.menu-title")
              .removeClass("expanded")
            .end()
            .find(".stb-nav-drop")
              .removeClass("expanded");
	  });
});  
</script></div></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
</div>
</div>
<div class="layout-region right-sidebar" id="ctl00_content_ctl00_right-sidebar">
<div class="layout-region-inner right-sidebar"><div class="content-fragment raw-html no-wrapper" id="fragment-144642">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-content">
<div class="user-defined-markup"><div id="fb-root"></div>
<!--FB JS-->
<script>(function (d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=376831565741525";
    fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div>
<!--FB Like button-->
<div id="fb-like" class="fb-like" data-href="https://www.facebook.com/dotnet" data-layout="button_count" data-width="450" data-show-faces="false"></div>
</div>
<div>
<!--Twitter Follow buttons-->
<a href="https://twitter.com/dotnet" class="twitter-follow-button" data-show-count="false" data-lang="en">@dotnet</a>
<a href="https://twitter.com/aspnet" class="twitter-follow-button" data-show-count="false" data-lang="en">@aspnet</a>

<!--twitter JS-->
<script>!function (d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (!d.getElementById(id)) { js = d.createElement(s); js.id = id; js.src = "//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs); } }(document, "script", "twitter-wjs");</script>
</div></div></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment c-t-f-widget no-wrapper" id="fragment-144643">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-content">


     <!--
         
           localize text, such as translate this & powered by 
           
           
            -->
<div id="MicrosoftTranslatorWidget" style="width: 276px; min-height: 83px;
    border-color: #3A5770; background-color: #78ADD0;">
    <noscript>
        <a href="http://www.microsofttranslator.com/bv.aspx?a=http%3a%2f%2fblogs.msdn.com%2f">Translate this
            page</a><br />
        Powered by <a href="http://www.microsofttranslator.com">Microsoft® Translator</a>
    </noscript>
    <script type="text/javascript">
        setTimeout(function () {
            var s = document.createElement("script");
            s.type = "text/javascript";
            s.charset = "UTF-8";
            s.src = "http://www.microsofttranslator.com/Ajax/V2/Widget.aspx?siteData=ncUzpG6DNC3ChU0huEHZCFQbqrzCQRcTVqXdHso8P2KRGM-oFXjoeYwum3D31voFEyqUPj4HjacfvEdrHEyIG8CuATkNhQmRwcZkpGVFjvVnLd1gzFP2dxWEWKdcQtE1&mode=manual&from=en-us&layout=ts";
            var p = document.getElementsByTagName('head')[0] || document.documentElement; p.insertBefore(s, p.firstChild);
        }, 0); 
    </script>
</div>
</div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment raw-html no-wrapper with-header" id="fragment-144646">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-header"><div>.NET Downloads</div></div>
<div class="content-fragment-content">
<div class="user-defined-markup"><ul class="web-links">
<li>
<a href="http://blogs.msdn.com/b/dotnet/p/nugetpackages.aspx">.NET NuGet Packages</a>

<li>
<a href="http://go.microsoft.com/fwlink/?LinkID=229561">.NET SDKS and Targeting Packs</a>
</li>

<li>
<a href="http://msdn.com/netframework">.NET Developer Center</a>
</li>

</li>

</ul></div></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment raw-html no-wrapper-with-spacing with-header" id="fragment-144644">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-header"><div>Upcoming .NET Meetups</div></div>
<div class="content-fragment-content">
<div class="user-defined-markup"><div id="dotnet-meetups">
<script>
    var meetupsToQuery = 5;
    var reportMeetupSource = false;

    var script = document.createElement( "script" );
    script.type = "text/javascript";
    script.src = "http://dotnetsocial.cloudapp.net/js/meetup.min.js";
    $("#dotnet-meetups").append(script);
</script>
<script src="http://i1.blogs.msdn.com/rrcontent/2d3d4c7556f78421106c80d9b3606917-11d713c953d4a2e2c40162e8ce8e6410-RequestReducedScript.js" type="text/javascript" ></script>
<table width="250" style="font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;border-collapse:collapse;">
<thead>
<th style="text-align:left">DateTime</th>   <th style="text-align:left">Event </th>  <th style="text-align:left">Group</th>
</thead>
<tbody id="meetup-table"><tr><td>Retrieving list of events ...</td><tr/></tbody>
</table>
<div align="center"><a href="http://blogs.msdn.com/b/dotnet/p/dotnetusergroups.aspx">Next 50 .NET user group meetups</a></div>
</div></div></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment tag-cloud no-wrapper-with-spacing with-header" id="fragment-144652">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-header"><div>Tags</div></div>
<div class="content-fragment-content">
<div class="tag-list-header"></div><ul class="tag-list">
<li class="tag-item level-6"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/-net+compact+framework/" rel="tag">.net compact framework</a></li>
<li class="tag-item level-1"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/-net+framework/" rel="tag">.net framework</a></li>
<li class="tag-item level-1"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/announcement/" rel="tag">announcement</a></li>
<li class="tag-item level-4"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/asp-net/" rel="tag">asp.net</a></li>
<li class="tag-item level-3"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/async/" rel="tag">async</a></li>
<li class="tag-item level-1"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/bcl/" rel="tag">bcl</a></li>
<li class="tag-item level-2"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/clr/" rel="tag">clr</a></li>
<li class="tag-item level-5"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/codegen/" rel="tag">codegen</a></li>
<li class="tag-item level-6"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/compatibility/" rel="tag">compatibility</a></li>
<li class="tag-item level-5"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/compression/" rel="tag">compression</a></li>
<li class="tag-item level-5"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/conferences/" rel="tag">conferences</a></li>
<li class="tag-item level-4"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/diagnostics/" rel="tag">diagnostics</a></li>
<li class="tag-item level-6"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/docs/" rel="tag">docs</a></li>
<li class="tag-item level-3"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/fundamentals/" rel="tag">fundamentals</a></li>
<li class="tag-item level-5"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/httpclient/" rel="tag">httpclient</a></li>
<li class="tag-item level-5"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/immutable/" rel="tag">immutable</a></li>
<li class="tag-item level-6"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/netcf+3-9/" rel="tag">netcf 3.9</a></li>
<li class="tag-item level-1"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/nuget/" rel="tag">nuget</a></li>
<li class="tag-item level-2"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/performance/" rel="tag">performance</a></li>
<li class="tag-item level-6"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/platform+update/" rel="tag">platform update</a></li>
<li class="tag-item level-2"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/portable+class+libraries/" rel="tag">portable class libraries</a></li>
<li class="tag-item level-2"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/releases/" rel="tag">releases</a></li>
<li class="tag-item level-5"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/visual+studio/" rel="tag">visual studio</a></li>
<li class="tag-item level-6"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/windows+embedded+compact+2013/" rel="tag">windows embedded compact 2013</a></li>
<li class="tag-item level-4"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/windows+store/" rel="tag">windows store</a></li>
</ul>
<div class="tag-list-footer"></div>
</div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment blog-post-list no-wrapper-with-spacing with-header" id="fragment-144650">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-header"><div>Recent Posts</div></div>
<div class="content-fragment-content">

	    <div class="content-list-header simple"></div>
        <ul class="content-list simple">
	
		<li class="content-item">
			<div class="abbreviated-post-header"></div>
			<div class="abbreviated-post">
				<h4 class="post-name"><a class="internal-link view-post" href="/b/dotnet/archive/2013/09/30/ryujit-the-next-generation-jit-compiler.aspx"><span></span>RyuJIT: The next-generation JIT compiler for .NET</a></h4>
				
            <div class="post-date">
		        <span class="label">Posted</span>
		        <span class="value">1 day ago</span>
	        </div>
                <div class="post-author">
                    <span class="fiji-post-author-by">by</span>
                    <span class="avatar"><a href="/513875/ProfileUrlRedirect.ashx"><img src="http://i1.social.s-msft.com/profile/u/avatar.jpg?displayname=the+.net+team&amp;size=large" alt="" style="border-width:0px;max-height:32px;max-width:32px;" /></a></span>
                    
                    <span class="user-name"><a class="internal-link view-user-profile" href="/513875/ProfileUrlRedirect.ashx"><span></span>The .NET Team</a></span>
                    
                </div>
	            <div class="post-attributes">
		                <div class="attribute-list-header"></div>
                        <ul class="attribute-list">
                            <span class="attribute-value">23</span>
                            <span class="attribute-name">Comments</span>
                        </ul>
                        <div class="attribute-list-footer"></div>
                    </div>
			</div>
			<div class="abbreviated-post-footer"></div>
		</li>
	
		<li class="content-item">
			<div class="abbreviated-post-header"></div>
			<div class="abbreviated-post">
				<h4 class="post-name"><a class="internal-link view-post" href="/b/dotnet/archive/2013/09/25/immutable-collections-ready-for-prime-time.aspx"><span></span>Immutable collections ready for prime time</a></h4>
				
            <div class="post-date">
		        <span class="label">Posted</span>
		        <span class="value">6 days ago</span>
	        </div>
                <div class="post-author">
                    <span class="fiji-post-author-by">by</span>
                    <span class="avatar"><a href="/445356/ProfileUrlRedirect.ashx"><img src="http://i1.social.s-msft.com/profile/u/avatar.jpg?displayname=immo+landwerth+%5bmsft%5d&amp;size=large" alt="" style="border-width:0px;max-height:32px;max-width:32px;" /></a></span>
                    
                    <span class="user-name"><a class="internal-link view-user-profile" href="/445356/ProfileUrlRedirect.ashx"><span></span>Immo Landwerth [MSFT]</a></span>
                    
                </div>
	            <div class="post-attributes">
		                <div class="attribute-list-header"></div>
                        <ul class="attribute-list">
                            <span class="attribute-value">22</span>
                            <span class="attribute-name">Comments</span>
                        </ul>
                        <div class="attribute-list-footer"></div>
                    </div>
			</div>
			<div class="abbreviated-post-footer"></div>
		</li>
	
		<li class="content-item">
			<div class="abbreviated-post-header"></div>
			<div class="abbreviated-post">
				<h4 class="post-name"><a class="internal-link view-post" href="/b/dotnet/archive/2013/09/12/immutable-collections-are-now-rc.aspx"><span></span>Immutable collections are now RC</a></h4>
				
            <div class="post-date">
		        <span class="label">Posted</span>
		        <span class="value">19 days ago</span>
	        </div>
                <div class="post-author">
                    <span class="fiji-post-author-by">by</span>
                    <span class="avatar"><a href="/445356/ProfileUrlRedirect.ashx"><img src="http://i1.social.s-msft.com/profile/u/avatar.jpg?displayname=immo+landwerth+%5bmsft%5d&amp;size=large" alt="" style="border-width:0px;max-height:32px;max-width:32px;" /></a></span>
                    
                    <span class="user-name"><a class="internal-link view-user-profile" href="/445356/ProfileUrlRedirect.ashx"><span></span>Immo Landwerth [MSFT]</a></span>
                    
                </div>
	            <div class="post-attributes">
		                <div class="attribute-list-header"></div>
                        <ul class="attribute-list">
                            <span class="attribute-value">33</span>
                            <span class="attribute-name">Comments</span>
                        </ul>
                        <div class="attribute-list-footer"></div>
                    </div>
			</div>
			<div class="abbreviated-post-footer"></div>
		</li>
	
		<li class="content-item">
			<div class="abbreviated-post-header"></div>
			<div class="abbreviated-post">
				<h4 class="post-name"><a class="internal-link view-post" href="/b/dotnet/archive/2013/09/09/announcing-the-net-framework-4-5-1-rc.aspx"><span></span>Announcing the .NET Framework 4.5.1 RC</a></h4>
				
            <div class="post-date">
		        <span class="label">Posted</span>
		        <span class="value">22 days ago</span>
	        </div>
                <div class="post-author">
                    <span class="fiji-post-author-by">by</span>
                    <span class="avatar"><a href="/513875/ProfileUrlRedirect.ashx"><img src="http://i1.social.s-msft.com/profile/u/avatar.jpg?displayname=the+.net+team&amp;size=large" alt="" style="border-width:0px;max-height:32px;max-width:32px;" /></a></span>
                    
                    <span class="user-name"><a class="internal-link view-user-profile" href="/513875/ProfileUrlRedirect.ashx"><span></span>The .NET Team</a></span>
                    
                </div>
	            <div class="post-attributes">
		                <div class="attribute-list-header"></div>
                        <ul class="attribute-list">
                            <span class="attribute-value">6</span>
                            <span class="attribute-name">Comments</span>
                        </ul>
                        <div class="attribute-list-footer"></div>
                    </div>
			</div>
			<div class="abbreviated-post-footer"></div>
		</li>
	
		</ul>
		<div class="content-list-footer simple"></div>
	</div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment raw-html no-wrapper" id="fragment-144645">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-content">
<div class="user-defined-markup"><!-- SIDEBAR: TWITTER -->
<div class="sidebar-twitter">
  <script charset="utf-8" src="http://widgets.twimg.com/j/2/widget.js"></script>
  <script>
  new TWTR.Widget({
    version: 2,
    type: 'profile',
    rpp: 3,
    interval: 30000,
    width: 220,
    height: 300,
    theme: {
      shell: {
        background: '#00aced',
        color: '#ffffff'
      },
      tweets: {
        background: '#ffffff',
        color: '#424242',
        links: '#00749e'
      }
    },
    features: {
      scrollbar: false,
      loop: false,
      live: false,
      behavior: 'all'
    }
  }).render().setUser('dotnet').start();
  </script>
</div></div></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment search-form no-wrapper" id="fragment-144647">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-content">

<div class="field-list-header">
</div>
<fieldset class="field-list">
    <ul class="field-list">
        <li class="field-item search">
            <div id="search-allblogs-container">
                <span class="field-item-input">
                    <input id="SearchTextBox_AllBlogs" name="SearchTextBox_AllBlogs" type="text" class="searchField"
                        maxlength="64" size="45" autocomplete="off" />
                    <input id="SearchButton_AllBlogs" name="SearchButton_AllBlogs" type="button" class="search-button" />
                </span>
            </div>
            <div id="search-thisblog-container">
                <span class="field-item-input">
                    <input id="SearchTextBox_ThisBlog" name="SearchTextBox_ThisBlog" type="text" class="searchField"
                        maxlength="64" size="45" autocomplete="off" />
                    <input id="SearchButton_ThisBlog" name="SearchButton_ThisBlog" type="button" class="search-button" />
                </span>
            </div>
        </li>
    </ul>
</fieldset>
<div class="field-list-footer">
    <div id="search-switch-container">
        <span style="display: inline-block">
            <input type="radio" name="SearchTypeRadio" value="ThisBlog" id="ThisBlog" checked="checked" /><label
                for="ThisBlog" id="ThisBlogText">Search this blog</label></span>
        <span style="display: inline-block">
            <input type="radio" name="SearchTypeRadio" value="AllBlogs" id="AllBlogs" /><label
                for="AllBlogs" id="AllBlogsText">Search all blogs</label></span>
    </div>
</div>
<script type="text/javascript">
var elmSearchAll = $('#search-allblogs-container').hide();
var elmSearchThis = $('#search-thisblog-container');

// try to get the blog id, if we fail, then we aren't on a blog and just use the regular search approach       
(11234 === -1) && $('#search-switch-container').hide();

$(document).ready(function() {
    $('#ThisBlog').click(function () {
        var self = $(this);
        if (self.is(':checked')) {
            elmSearchAll.hide();
            elmSearchThis.show();
        }
    });
    
    $('#AllBlogs').click(function () {
        var self = $(this);
        if (self.is(':checked')) {
            elmSearchThis.hide();
            elmSearchAll.show();
        }
    });
});
</script>
<script src="http://i4.services.social.microsoft.com/Search/Widgets/SearchBox.jss?boxid=SearchTextBox_AllBlogs&btnid=SearchButton_AllBlogs&brand=MSDN&refinement=109&resref=&addEnglish=&rn=&rq=&watermark=&focusOnInit=false&beta=0&iroot=&overrideWatermark=false" type="text/javascript" language="javascript"></script>
<script src="http://i4.services.social.microsoft.com/Search/Widgets/SearchBox.jss?boxid=SearchTextBox_ThisBlog&btnid=SearchButton_ThisBlog&brand=MSDN&refinement=&resref=&addEnglish=&watermark=&focusOnInit=false&beta=0&iroot=&overrideWatermark=false&rn=.NET%2bBlog&rq=site:blogs.msdn.com/b/dotnet/" type="text/javascript" language="javascript"></script>
</div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment raw-html no-wrapper" id="fragment-144648">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-content">
<div class="user-defined-markup"><!-- SIDEBAR: METRO TILES -->
<ul class="sidebar-tiles">
  <li class="first">
    <a href="/b/dotnet/rss.aspx" class="sidebar-tile-subscribe">Subscribe</a>
  </li>
  <li class="mid">
    <a href="/b/dotnet/rsscomments.aspx" class="sidebar-tile-comments">Comments</a>
  </li>
  <li class="last">
    <a href="/b/dotnet/contact.aspx" class="sidebar-tile-contact">Contact</a>
  </li>
</ul></div></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment blog-links no-wrapper-with-spacing with-header" id="fragment-144649">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-header"><div>Menu</div></div>
<div class="content-fragment-content">

		<div class="navigation-list-header"></div>
		<ul class="navigation-list">
	<li class="navigation-item"><a class="internal-link view-application" href="/b/dotnet/"><span></span>Blog Home</a></li><li class="navigation-item"><a class="internal-link rss" href="/b/dotnet/atom.aspx"><span></span>Atom</a></li>
		</ul>
		<div class="navigation-list-footer"></div>
	</div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment raw-html no-wrapper" id="fragment-144653">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-content">
<div class="user-defined-markup"><!-- SIDEBAR: TAGS MORE/LESS SCRIPT -->
<script>
  $(document).ready(function() {
    $('ul.tag-list > li.tag-item').hide();
    if ($('ul.tag-list > li.tag-item').length < 1) {
      $('#TagMoreLink,#TagLessLink').hide();
    }
    if ($('ul.tag-list > li.tag-item:visible').length == $('ul.tag-list > li.tag-item').length) {
      $('#TagMoreLink,#TagLessLink').hide();
    }
  });
</script>
<a id="TagMoreLink" href="#" onclick="$('ul.tag-list > li.tag-item').show(); $('#TagLessLink').show(); $('#TagMoreLink').hide(); return false;" />More <span class="arrowhead">&#9660;</span></a>
<a id="TagLessLink" href="#" style="display:none" onclick="$('ul.tag-list > li.tag-item').hide(); $('#TagMoreLink').show(); $('#TagLessLink').hide(); return false;" />Less <span class="arrowhead">&#9650;</span></a></div></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment blog-archive-list no-wrapper-with-spacing with-header" id="fragment-144654">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-header"><div>Archives</div></div>
<div class="content-fragment-content">

		<div class="content-list-header"></div>
		<div class="content-list-name">Archives</div>
		<ul class="content-list">
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2013/09.aspx">September 2013</a> (5)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2013/08.aspx">August 2013</a> (9)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2013/07.aspx">July 2013</a> (4)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2013/06.aspx">June 2013</a> (6)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2013/05.aspx">May 2013</a> (3)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2013/04.aspx">April 2013</a> (2)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2013/02.aspx">February 2013</a> (1)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2013/01.aspx">January 2013</a> (1)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2012/12.aspx">December 2012</a> (2)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2012/11.aspx">November 2012</a> (5)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2012/10.aspx">October 2012</a> (5)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2012/09.aspx">September 2012</a> (1)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2012/08.aspx">August 2012</a> (3)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2012/07.aspx">July 2012</a> (2)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2012/06.aspx">June 2012</a> (2)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2012/05.aspx">May 2012</a> (1)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2012/04.aspx">April 2012</a> (2)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2012/03.aspx">March 2012</a> (3)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2012/02.aspx">February 2012</a> (1)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2011/10.aspx">October 2011</a> (2)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2011/09.aspx">September 2011</a> (2)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2011/06.aspx">June 2011</a> (1)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2011/04.aspx">April 2011</a> (1)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2010/11.aspx">November 2010</a> (1)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2010/09.aspx">September 2010</a> (1)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2010/06.aspx">June 2010</a> (2)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2010/05.aspx">May 2010</a> (2)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2010/04.aspx">April 2010</a> (1)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2010/03.aspx">March 2010</a> (3)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2010/02.aspx">February 2010</a> (2)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2009/12.aspx">December 2009</a> (2)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2009/11.aspx">November 2009</a> (3)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2009/10.aspx">October 2009</a> (4)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2009/09.aspx">September 2009</a> (1)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2009/08.aspx">August 2009</a> (5)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2009/07.aspx">July 2009</a> (4)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2009/06.aspx">June 2009</a> (8)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2009/05.aspx">May 2009</a> (11)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2009/04.aspx">April 2009</a> (2)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2009/03.aspx">March 2009</a> (5)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2009/02.aspx">February 2009</a> (4)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/dotnet/archive/2009/01.aspx">January 2009</a> (3)</li>
	
		</ul>
		<div class="content-list-footer"></div>
	
</div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment raw-html no-wrapper" id="fragment-144655">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-content">
<div class="user-defined-markup"><script>
    $(document).ready(function() {
      $('.layout-region.right-sidebar .blog-archive-list ul.content-list li.content-item').hide();
      if ($('.layout-region.right-sidebar .blog-archive-list ul.content-list li.content-item').length < 1) {
        $('#ArchiveMoreLink,#ArchiveLessLink').hide();
      }
      if ($('.layout-region.right-sidebar .blog-archive-list ul.content-list li.content-item:visible').length == $('.layout-region.right-sidebar .blog-archive-list ul.content-list li.content-item').length) {
        $('#ArchiveMoreLink,#ArchiveLessLink').hide();
      }
    });
</script>
<a id="ArchiveMoreLink" href="#" onclick="$('.layout-region.right-sidebar .blog-archive-list ul.content-list li.content-item').show(); $('#ArchiveLessLink').show(); $('#ArchiveMoreLink').hide(); return false;" />More <span class="arrowhead">&#9660;</span></a>
<a id="ArchiveLessLink" href="#" style="display:none" onclick="$('.layout-region.right-sidebar .blog-archive-list ul.content-list li.content-item').hide(); $('#ArchiveMoreLink').show(); $('#ArchiveLessLink').hide(); return false;" />Less <span class="arrowhead">&#9650;</span></a></div></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment raw-html no-wrapper with-header" id="fragment-144651">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-header"><div>Live Now on Developer Tools Blogs</div></div>
<div class="content-fragment-content">
<div class="user-defined-markup"><script>
(function() {

    var pageSize = 3;
    var activeFeed;
    var feeds = [
    	{
    		name: "top",
    		url: "http://sxp.microsoft.com/feeds/3.0/devblogs?json&pagesize=" + pageSize + "&pageindex=",
    		pageIndex: 0,
    		totalCount: 0,
    		containerId: "sxp-feed-container-top"
    	}
    ];

	var template = "<div class='sxp-feed'><a class='sxp-title' href='{Link}'>{Title}</a></div>";

    function asyncGetData(feedUrl) {
      return $.ajax({ url: feedUrl, dataType: "jsonp", jsonp: "jsonp" });
    }


    function refresh(feed) {

		var feedUrl = feed.url + feed.pageIndex;
		var feedContainer = $("#" + feed.containerId);
		var pdata = asyncGetData(feedUrl);
		pdata.done(function(data) { 
			var container = feedContainer;
			container.empty();
			feed.totalCount=data.TotalItems;
			for(var i = 0; i < pageSize && i < data.Items.length; i++) {
			  container.append($(bindTemplate(data.Items[i])));
			}
		});
    }
    
    function bindTemplate(item) {
      return template.replace(/\{([^}]+)\}/gi, function(m) { 
				with(item){ 
                   var placeholder = m.substr(1, m.length - 2);
                   var value;
				   if(placeholder == 'AuthorEncoded'){
					  value = encodeURIComponent(Author);
				   }else {
					  value =  eval(placeholder);
				   }
                   if(placeholder === 'Content') {
						var node = $("<div>" + value + "</div>");
						var text = node.text();
						var max = 150;
						if(text.length > max) {
							text = text.substring(0, max);
							text = text.replace(/\w+$/, '');
							value =  text + "...";
						}
						else{
							value = text;
						}
                   }
                    return value; 	
				}});
    }
    
    $(function() {
    	for(var i = 0; i < feeds.length; i++){
    		refresh(feeds[i]); 
		}
    });
  })();
</script>
<script>
  $(document).ready(function() {
    $('#sxp-feed-container-parent').parent().parent().siblings('.content-fragment-header').children('div').wrapInner('<a href="http://blogs.msdn.com/b/developer-tools" class="rss-left" />');
    $('#sxp-feed-container-parent').parent().parent().siblings('.content-fragment-header').children('div').append('<a href="http://sxp.microsoft.com/feeds/3.0/devblogs" class="rss-right"><img src="http://blogs.technet.com/cfs-filesystemfile.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-94-25/2110.metroRSS.png" alt="Live Now on Developer Tools Blogs Feed" width="14" height="14" /></a>');
  });
</script>
<div id="sxp-feed-container-parent">
    <div id="sxp-feed-container-top" class="sxp-container"></div>
</div></div></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
</div>
</div>
<div class="layout-region content" id="ctl00_content_ctl00_content">
<div class="layout-region-inner content"><div class="content-fragment blog-post no-wrapper-with-spacing" id="fragment-144656">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-content">

<div class="full-post-header"></div>
<div class="full-post">
	<h3 class="post-name">Immutable collections ready for prime time</h3>
	
	        <div class="post-rating">
	            Rate This<br />
	    <span id="ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl01" title="Rated Excellent [5 out of 5]."></span><input type="hidden" value="5" id="ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl01_Value" />
	        </div>
	    
    <div class="post-author">
        <span class="avatar"><a href="/445356/ProfileUrlRedirect.ashx"><img src="http://i1.social.s-msft.com/profile/u/avatar.jpg?displayname=immo+landwerth+%5bmsft%5d&amp;size=large" alt="" style="border-width:0px;max-height:32px;max-width:32px;" /></a></span>
        
        <span class="profile-usercard-hover" data-profile-userid="01aab62d-ed5c-4d6f-84e4-fe7022b1e1ad">
            <span class="user-name"><a class="internal-link view-user-profile" href="/445356/ProfileUrlRedirect.ashx"><span></span>Immo Landwerth [MSFT]</a></span>
        
            
        </span>
    </div>
    <div class="post-date">
        <span class="value">
            25 Sep 2013 6:34 PM
        </span>
    </div>
    <div class="post-attributes">
        <div class="attribute-list-header"></div>
        <ul class="attribute-list">
             <li class="attribute-item post-reply-count">
                <span class="attribute-name">Comments</span>
                <span class="attribute-value"><a href="#comments" class="internal-link view-replies"><span></span>22</a></span>
             </li>
        </ul>
        <div class="attribute-list-footer"></div>
    </div>
    <div class="post-content user-defined-markup"><p>Today I&rsquo;m very happy to announce that we released the <a href="http://www.nuget.org/packages/Microsoft.Bcl.Immutable">stable version of the Microsoft.Bcl.Immutable NuGet package</a>. We also published the <a href="http://msdn.microsoft.com/en-us/library/dn385366.aspx">MSDN documentation on immutable collections</a>.</p>
<h1>Thank you!</h1>
<p>Nine months ago, <a href="http://blogs.msdn.com/b/bclteam/archive/2012/12/18/preview-of-immutable-collections-released-on-nuget.aspx">we shipped the first preview</a> of immutable collections. This was one of the first BCL features that we decided to ship early and often by releasing out of band (that is, outside the core .NET Framework releases). This allowed us to have a public design discussion, which, in turn, gave us the ability to address your feedback in a faster and more direct way than ever before.</p>
<p>Many of you participated and commented on our blog posts. Immutable collections wouldn&rsquo;t be what it is now in this stable release if it weren&rsquo;t for the great feedback and discussion we had with you. Thanks to everybody who participated!</p>
<h1>What are immutable collections?</h1>
<p>Over time, the .NET Framework has added many features that made concurrent programming a lot easier. This started with the introduction of the thread pool, got a lot more powerful with the task-based model and the Task Parallel Library (TPL), and was improved even more by the addition of the async and await language keywords.</p>
<p>While creating and running concurrently is easier than ever, one of the fundamental problems still exists: mutable shared state. Reading from multiple threads is typically very easy, but once the state needs to be updated, it gets a lot harder, especially in designs that require locking.</p>
<p>An alternative to locking is making use of immutable state. Immutable data structures are guaranteed to never change and can thus be passed freely between different threads without worrying about stepping on somebody else&rsquo;s toes.</p>
<p>This design creates a new problem though: How do you manage changes in state without copying the entire state each time? This is especially tricky when collections are involved.</p>
<p>This is where immutable collections come in. We created the following immutable collections to make it a lot easier to create immutable data structures:</p>
<ul>
<li><a href="http://msdn.microsoft.com/en-us/library/dn467185.aspx">ImmutableList&lt;T&gt;</a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/dn467181.aspx">ImmutableDictionary&lt;TKey, TValue&gt;</a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/dn467194.aspx">ImmutableSortedDictionary&lt;TKey, TValue&gt;</a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/dn467171.aspx">ImmutableHashSet&lt;T&gt;</a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/dn467193.aspx">ImmutableSortedSet&lt;T&gt;</a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/dn467197.aspx">ImmutableStack&lt;T&gt;</a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/dn467186.aspx">ImmutableQueue&lt;T&gt;</a></li>
</ul>
<p>Let&rsquo;s look at an example. You have built a billing system and you see that an immutable design will enable you to pass orders around without having to worry about data corruption when multiple threads are involved. For example, you could implement printing selected orders from a worker thread by passing a snapshot of them to the thread. This way you avoid blocking the UI, and allow the user to edit orders without affecting the snapshot passed to the worker thread.</p>
<p>Your <strong>mutable</strong> design might look like this:</p>
<p style="padding-left: 30px;"><span style="font-family: courier new,courier;">class Order</span><br /><span style="font-family: courier new,courier;">{</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; public Order()</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Lines = new List&lt;OrderLine&gt;();</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; }</span><br />&nbsp;&nbsp;&nbsp; <br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; public List&lt;OrderLine&gt; Lines { get; private set; } </span><br /><span style="font-family: courier new,courier;">}</span></p>
<p style="padding-left: 30px;"><span style="font-family: courier new,courier;">class OrderLine</span><br /><span style="font-family: courier new,courier;">{</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; public int Quantity { get; set; }</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; public decimal UnitPrice { get; set; }</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; public float Discount { get; set; }</span></p>
<p style="padding-left: 30px;"><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; public decimal Total</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; get</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return Quantity * UnitPrice * (decimal) (1.0f - Discount);</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="font-family: courier new,courier;">}</span><span style="font-family: courier new,courier;"><br /></span></p>
<p>Now let&rsquo;s see how you would convert this to an <strong>immutable</strong> design.</p>
<p>Let&rsquo;s start with <code>OrderLine</code>. A first step would be to make the properties read-only and initialize them from the constructor:</p>
<p style="padding-left: 30px;"><span style="font-family: courier new,courier;">class OrderLine</span><br /><span style="font-family: courier new,courier;">{</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; public OrderLine(int quantity, decimal unitPrice, float discount)</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Quantity = quantity;</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UnitPrice = unitPrice;</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Discount = discount;</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; }</span></p>
<p style="padding-left: 30px;"><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; public int Quantity { get; private set; }</span></p>
<p style="padding-left: 30px;"><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; public decimal UnitPrice { get; private set; }</span></p>
<p style="padding-left: 30px;"><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; public float Discount { get; private set; }</span></p>
<p style="padding-left: 30px;"><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; public decimal Total</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; get</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return Quantity * UnitPrice * (decimal) (1.0f - Discount);</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="font-family: courier new,courier;">}</span></p>
<p>This new design requires that you create a new instance of an <code>OrderLine</code> whenever any of the values changes. You can make the design a bit more convenient by adding <code>WithXxx</code> methods that let you update individual properties without having to explicitly call the constructor yourself:</p>
<p style="padding-left: 30px;"><span style="font-family: courier new,courier;">class OrderLine</span><br /><span style="font-family: courier new,courier;">{</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; // ...</span></p>
<p style="padding-left: 30px;"><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; public OrderLine WithQuantity(int value)</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return value == Quantity</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ? this</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : new OrderLine(value, UnitPrice, Discount);</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; }</span></p>
<p style="padding-left: 30px;"><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; public OrderLine WithUnitPrice(decimal value)</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return value == UnitPrice</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ? this</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : new OrderLine(Quantity, value, Discount);</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; }</span></p>
<p style="padding-left: 30px;"><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; public OrderLine WithDiscount(float value)</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return value == Discount</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ? this</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : new OrderLine(Quantity, UnitPrice, value);</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="font-family: courier new,courier;">}</span></p>
<p>This makes the immutable type very easy to use:</p>
<p style="padding-left: 30px;"><span style="font-family: courier new,courier;">OrderLine apple = new OrderLine(quantity: 1, unitPrice: 2.5m, discount: 0.0f);</span><br /><span style="font-family: courier new,courier;">OrderLine discountedAppled = apple.WithDiscount(.3f);</span></p>
<p>Two things are noteworthy:</p>
<ul>
<li>The <code>WithXxx</code> methods try to avoid creating new instances if the new value is identical to the current value.</li>
<li>Fruits, especially apples, seem to be expensive.</li>
</ul>
<p>(By the way, if you dislike the amount of typing involved in creating an immutable type, you aren&rsquo;t alone. <a href="http://blogs.msdn.com/b/andrewarnottms/archive/2013/01/08/simple-immutable-objects.aspx">Andrew Arnott has created</a> a <a href="http://msdn.microsoft.com/en-us/library/vstudio/bb126445.aspx">T4</a> template that helps you with that.)</p>
<p>Now let&rsquo;s see how we would implement <code>Order</code> in an immutable fashion. The <code>Lines</code> property is already read-only, but it refers to an object that is mutable. Since it&rsquo;s a collection, it&rsquo;s easy to convert by simply replacing it with <code>ImmutableList&lt;T&gt;</code>:</p>
<p style="padding-left: 30px;"><span style="font-family: courier new,courier;">class Order</span><br /><span style="font-family: courier new,courier;">{</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; public Order(IEnumerable&lt;OrderLine&gt; lines)</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Lines = lines.ToImmutableList();</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; }</span></p>
<p style="padding-left: 30px;"><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; public ImmutableList&lt;OrderLine&gt; Lines { get; private set; }</span></p>
<p style="padding-left: 30px;"><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; public Order WithLines(IEnumerable&lt;OrderLine&gt; value)</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return Object.ReferenceEquals(Lines, value)</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ? this</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : new Order(value);</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="font-family: courier new,courier;">}</span></p>
<p>This design has some interesting properties:</p>
<ul>
<li>The constructor accepts <code>IEnumerable&lt;T&gt;</code>, which allows passing in any collection.</li>
<li>We use the <code>ToImmutableList()</code> extension method, which will convert the enumerable to an <code>ImmutableList&lt;OrderLine&gt;</code>. If the instance is already an immutable list, it will simply cast instead of creating a new collection.</li>
<li>The <code>WithLines()</code> method follows the convention from our <code>OrderLine</code>, which avoids creating a new instance if the new list is identical to the current list of lines.</li>
</ul>
<p>We could also add some convenience methods to make it easier to update the order lines:</p>
<p style="padding-left: 30px;"><span style="font-family: courier new,courier;">class Order</span><br /><span style="font-family: courier new,courier;">{</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; //...</span></p>
<p style="padding-left: 30px;"><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; public Order AddLine(OrderLine value)</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return WithLines(Lines.Add(value));</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; }</span></p>
<p style="padding-left: 30px;"><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; public Order RemoveLine(OrderLine value)</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return WithLines(Lines.Remove(value));</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; }</span></p>
<p style="padding-left: 30px;"><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; public Order ReplaceLine(OrderLine oldValue, OrderLine newValue)</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; {</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return oldValue == newValue</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ? this</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : WithLines(Lines.Replace(oldValue, newValue));</span><br /><span style="font-family: courier new,courier;">&nbsp;&nbsp;&nbsp; }</span><br /><span style="font-family: courier new,courier;">}</span></p>
<p>These additions allow creating orders like this:</p>
<p style="padding-left: 30px;"><span style="font-family: courier new,courier;">OrderLine apple = new OrderLine(quantity: 1, unitPrice: 2.5m, discount: 0.0f);</span><br /><span style="font-family: courier new,courier;">Order order = new Order(ImmutableList.Create(apple));</span></p>
<p style="padding-left: 30px;"><span style="font-family: courier new,courier;">OrderLine discountedApple = apple.WithDiscount(discount);</span><br /><span style="font-family: courier new,courier;">Order discountedOrder = order.ReplaceLine(apple, discountedApple);</span></p>
<p>The nice thing about this design is that it avoids unnecessary object creation whenever possible. For example, when the value of <code>discount</code> is equal to <code>0.0f</code>, i.e., when there is no discount, <code>discountedApple</code> and <code>discountedOrder</code> refer to the existing instances of <code>apple</code> and <code>order</code>.</p>
<p>Here is why:</p>
<ol>
<li><code>apple.WithDiscount()</code> will return the existing instance of apple because the new discount is identical to the current value of the Discount property.</li>
<li><code>order.ReplaceLine()</code> will return the existing instance if both arguments are the same.</li>
</ol>
<p>Other operations of our immutable collections follow this spirit of maximizing reuse. For example, adding an order line to an order with 1,000 order lines will not create an entire new list with 1,001 elements. Instead, it will reuse a large chunk of the existing list. This is possible because the list is internally represented as a tree which allows sharing nodes between different instances.</p>
<h1>That sounds great - I&rsquo;d like to learn more</h1>
<p>The one-stop shop for all API questions is MSDN. So your first visit should be the <a href="http://msdn.microsoft.com/en-us/library/dn385366.aspx">MSDN documentation on immutable collections</a>.</p>
<p>Our very <a href="http://blogs.msdn.com/b/bclteam/archive/2012/12/18/preview-of-immutable-collections-released-on-nuget.aspx">first blog post on immutable collections</a> is also a great in-depth introduction. It covers algorithmic complexities as well as the builder pattern, which allows for more efficient bulk updates.</p>
<p>If your question is more along the lines of &ldquo;why did Microsoft do it this way,&rdquo; take a look at the entire blog post series on the <a href="http://blogs.msdn.com/b/dotnet/archive/tags/immutable/">.NET Blog</a> as well as the now retired <a href="http://blogs.msdn.com/b/bclteam/archive/tags/immutable/">BCL Blog</a>. Many of you asked challenging questions and even proposed design improvements which we discussed in following posts.</p>
<p>If you are like me, you probably prefer videos and face-to-face conversations over reading text. If so, you may want to watch the two videos we put together for Channel 9. They allow you to meet the team and gain more insight into the design and inner workings of immutable collections.</p>
<p style="text-align: center;"><iframe style="height: 288px; width: 512px;" src="http://channel9.msdn.com/posts/Erik-Meijer-Immo-Landwerth-and-Andrew-Arnott-Immutable-Collections-for-NET/player?w=512&amp;h=288" frameborder="0" scrolling="no"></iframe></p>
<p style="text-align: center;"><a href="http://channel9.msdn.com/posts/Erik-Meijer-Immo-Landwerth-and-Andrew-Arnott-Immutable-Collections-for-NET">Immutable Collections in .NET</a></p>
<p style="text-align: center;"><iframe style="height: 288px; width: 512px;" src="http://channel9.msdn.com/Shows/Going+Deep/Immo-Landwerth-and-Andrew-Arnott-Inside-Immutable-Collections/player?w=512&amp;h=288" frameborder="0" scrolling="no"></iframe></p>
<p style="text-align: center;"><a href="http://channel9.msdn.com/Shows/Going+Deep/Immo-Landwerth-and-Andrew-Arnott-Inside-Immutable-Collections">Inner workings of immutable collections</a></p>
<h1>Are immutable collections now done?</h1>
<p>No. We still plan on bringing back <a href="http://blogs.msdn.com/b/dotnet/archive/2013/06/24/please-welcome-immutablearray.aspx">ImmutableArray&lt;T&gt;</a>, which we <a href="http://blogs.msdn.com/b/dotnet/archive/2013/09/12/immutable-collections-are-now-rc.aspx">decided</a> to remove for now, due to some design issues.</p>
<p>Also, our documentation team is publishing updates to MSDN every three weeks. Since the <a href="http://msdn.microsoft.com/en-us/library/dn385366.aspx">documentation on immutable collections</a> is all new, we&rsquo;re very interested to get your feedback so we can make the docs even better!</p>
<h1>Summary</h1>
<p>We&rsquo;ve just shipped a stable release of <a href="http://www.nuget.org/packages/Microsoft.Bcl.Immutable">Microsoft.Bcl.Immutable</a>. The license now allows usage in production, so they are ready for prime time.</p>
<p>Please have a look at the <a href="http://msdn.microsoft.com/en-us/library/dn385366.aspx">new documentation on MSDN</a> and let us know what you think!</p><div style="clear:both;"></div></div>
    <div class="post-attachment-viewer">
		
    </div>
    <div class="post-actions">
        <div class="navigation-list-header"></div>
        <ul class="navigation-list">
            <!---->
            <li class="navigation-item"><a class="internal-link view-replies" href="/b/dotnet/archive/2013/09/25/immutable-collections-ready-for-prime-time.aspx#comments"><span></span>22 Comments</a></li>
            
            
        </ul>
        <div class="navigation-list-footer"></div>
    </div>
    <div class="post-tags"><div id="ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01_Container" style="display: none;"><div class="tags-editor"><textarea id="ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01_Tags" style="width: 97%; height: 100%;" rows="2" cols="30"></textarea><div style="white-space: nowrap; padding-top: 4px;"><table cellpadding="0" cellspacing="0" border="0" width="100%"><tr><td align="left"><input type="button" onclick="Telligent_Modal.Open('\/utility\/TagSelector.aspx?TagEditor=ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01_TagEditor',400,300,null);;return false;" value="Select Tags..." /></td><td align="right"><input type="button" onclick="ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01.Save(); return false;" value="Save" /><input type="button" onclick="ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01.Close(); return false;" value="Cancel" /></td></tr></table></div></div></div><span id="ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl02"><a href="http://blogs.msdn.com/b/dotnet/archive/tags/bcl/" rel="tag">bcl</a>, <a href="http://blogs.msdn.com/b/dotnet/archive/tags/announcement/" rel="tag">announcement</a>, <a href="http://blogs.msdn.com/b/dotnet/archive/tags/portable+class+libraries/" rel="tag">portable class libraries</a>, <a href="http://blogs.msdn.com/b/dotnet/archive/tags/nuget/" rel="tag">nuget</a>, <a href="http://blogs.msdn.com/b/dotnet/archive/tags/immutable/" rel="tag">immutable</a></span><input type="hidden" name="ctl00$content$ctl00$w_144656$_a6907d$ctl00$ctl15$ctl02" id="ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl02_State" value="nochange" /></div>
</div>
<div class="full-post-footer"></div></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment raw-html no-wrapper" id="fragment-144657">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-content">
<div class="user-defined-markup"><!-- SHARE WIDGETS -->
<div class="share-widgets">
  <div class="share-widget twitter">
    <a href="https://twitter.com/share" class="twitter-share-button" data-size="large">Tweet</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </div>
  <div class="share-widget facebook">
    <div id="fb-root"></div>
    <script>(function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>
    <div class="fb-like" data-send="false" data-layout="button_count" data-width="100" data-show-faces="false" data-font="segoe ui"></div>
  </div>
  <div class="share-widget linkedin">
    <script src="//platform.linkedin.com/in.js" type="text/javascript"></script>
    <script type="IN/Share" data-counter="right"></script>
  </div>
  <div class="share-widget delicious">
    <img src="http://www.delicious.com/static/img/delicious.small.gif" height="10" width="10" alt="Delicious" />
    <a href="http://www.delicious.com/save" onclick="window.open('http://www.delicious.com/save?v=5&noui&jump=close&url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title), 'delicious','toolbar=no,width=550,height=550'); return false;"> Save this on Delicious</a>
  </div>
</div></div></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment captcha-blog-post-comment-form no-wrapper-with-spacing" id="fragment-144658">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-content">

    
            <div class="field-list-header"></div>
            <fieldset class="field-list">
                <legend class="field-list-description">Leave a Comment</legend>
                <ul class="field-list">
                    <li id="ctl00_content_ctl00_w_144658__a6907d_ctl00_ctl00_ctl00_ctl05_bpCommentForm_ctl05_NameField" class="field-item">
                        <label for="ctl00_content_ctl00_w_144658__a6907d_ctl00_ctl00_ctl00_ctl05_bpCommentForm_ctl05_tbName" class="field-item-header">Name</label>
                        <span class="field-item-input"><input name="ctl00$content$ctl00$w_144658$_a6907d$ctl00$ctl00$ctl00$ctl05$bpCommentForm$ctl05$tbName" type="text" size="60" id="ctl00_content_ctl00_w_144658__a6907d_ctl00_ctl00_ctl00_ctl05_bpCommentForm_ctl05_tbName" /></span>
                        
                    </li>
                    <li class="field-item post-body">
                        <label for="ctl00_content_ctl00_w_144658__a6907d_ctl00_ctl00_ctl00_ctl05_bpCommentForm_ctl05_tbComment" class="field-item-header">Comment</label>
                        <span class="field-item-input"><textarea name="ctl00$content$ctl00$w_144658$_a6907d$ctl00$ctl00$ctl00$ctl05$bpCommentForm$ctl05$tbComment" rows="2" cols="20" id="ctl00_content_ctl00_w_144658__a6907d_ctl00_ctl00_ctl00_ctl05_bpCommentForm_ctl05_tbComment"></textarea></span>
                        
                        
                    </li>
                    <li class="field-item">
                        
                           <span id="ctl00_content_ctl00_w_144658__a6907d_ctl00_ctl00_ctl00_ctl05_bpCommentForm_ctl05_invisibleCaptcha_subtext_captcha">Please add 5 and 3 and type the answer here: <input type="text" name="ctl00_content_ctl00_w_144658__a6907d_ctl00_ctl00_ctl00_ctl05_bpCommentForm_ctl05_invisibleCaptcha_visibleanswer" value="" /></span>


                    </li>
                    <li class="field-item">
                        <script type="text/javascript">
                       // <![CDATA[

                            $(document).ready(function () {
                                $('a.add-reply').click(function () {
                                    postComment(this);
                                    return false;
                                });
                            });
                            function postComment(anchor) {
                                if (Page_ClientValidate('BlogPostCommentForm-ctl00_content_ctl00_w_144658__a6907d_ctl00_ctl00')) {
                                    $(anchor).hide();
                                    $(anchor).parent()
                                             .html('<a class="internal-link add-reply" style="color:#c7c7c7;"><span></span>Publishing</a>');
                                    window.location.href = $(anchor).attr('href');
                                    $(anchor).unbind('click');
                                }
                            }
                            
                            
                            // ]]>
                        </script>
                        <span class="field-item-input">
                            <a id="ctl00_content_ctl00_w_144658__a6907d_ctl00_ctl00_ctl00_ctl05_bpCommentForm_ctl05_btnSubmit" class="internal-link add-reply" href="javascript:WebForm_DoPostBackWithOptions(new WebForm_PostBackOptions(&quot;ctl00$content$ctl00$w_144658$_a6907d$ctl00$ctl00$ctl00$ctl05$bpCommentForm$ctl05$btnSubmit&quot;, &quot;&quot;, true, &quot;BlogPostCommentForm-ctl00_content_ctl00_w_144658__a6907d_ctl00_ctl00&quot;, &quot;&quot;, false, true))"><span></span>Post</a>
                        </span>
                    </li>
                </ul>
            </fieldset>
            <div class="field-list-footer"></div>
            
        
    
</div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment blog-feedback-list no-wrapper-with-spacing" id="fragment-144659">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-content">




<script type="text/javascript">
	// <![CDATA[
	$(document).ready(function() {
	$(document).bind('telligent_blogs_commentposted', function(e, message) { 
	            window.setTimeout(new Function(ctl00_content_ctl00_w_144659__a6907d_ctl00_ctl00_DelayedFeedbackList.Reload()), 100); 
	            return true; 
	    });
	    ctl00_content_ctl00_w_144659__a6907d_ctl00_ctl00_DelayedFeedbackList.Reload();
	});
// ]]>
</script>

	

<div id="ctl00_content_ctl00_w_144659__a6907d_ctl00_ctl00_DelayedFeedbackList"><input type="hidden" name="ctl00$content$ctl00$w_144659$_a6907d$ctl00$ctl00$DelayedFeedbackList" value="true:" />
	    
			    <a name="comments"></a>
			    <div class="content-list-header"></div>
			    <div class="content-list-name">
				    
						    <a class="internal-link rss" href="/b/dotnet/rsscomments.aspx?WeblogPostID=10452116"><span></span>Comments</a>
					    
			    </div>
			    <ul class="content-list">
		    
			    
					    <li class="content-item">
						    <div class="full-post-outer wireframe-full-post-outer"><div class="full-post-header"><div class="r wireframe-r"></div></div>
						    <div class="full-post"><div class="full-post-inner wireframe-full-post-inner">
				    
			    <div class="post-author">
				    
				    <span class="avatar"><img src="/utility/anonymous.gif" alt="" border="0" style="max-height:32px;max-width:32px;" /></span>
                    <span class="profile-usercard-hover" data-profile-userid='00000000-0000-0000-0000-000000000000'>
				        
				        <span class="user-name">fm</span>
                    </span>
			    </div>
			    <div class="post-date">
				    <span class="value">25 Sep 2013 8:48 PM</span>
			    </div>
			    <div class="post-content user-defined-markup"><p>What&#39;s the deal with the Windows-only distribution restriction in the license? That&#39;s super lame. Can we at least have an explanation, if not the removal of that clause from the license?</p>
<div style="clear:both;"></div></div>
			    <div class="post-actions">
				    
			    </div>
			    
						    </div>
						    </div><div class="full-post-footer"><div class="r wireframe-r"></div></div></div>
					    </li>
				    
		    
			    
					    <li class="content-item">
						    <div class="full-post-outer wireframe-full-post-outer"><div class="full-post-header"><div class="r wireframe-r"></div></div>
						    <div class="full-post"><div class="full-post-inner wireframe-full-post-inner">
				    
			    <div class="post-author">
				    
				    <span class="avatar"><img src="/utility/anonymous.gif" alt="" border="0" style="max-height:32px;max-width:32px;" /></span>
                    <span class="profile-usercard-hover" data-profile-userid='00000000-0000-0000-0000-000000000000'>
				        
				        <span class="user-name">Bart</span>
                    </span>
			    </div>
			    <div class="post-date">
				    <span class="value">25 Sep 2013 10:17 PM</span>
			    </div>
			    <div class="post-content user-defined-markup"><p>Everybody should avoid this package from Microsoft and work on creating an actual portable project with <a rel="nofollow" target="_new" href="https://github.com/mono/ImmutableCollections">github.com/.../ImmutableCollections</a>. </p>
<p>I&#39;m sure you guys put a lot of effort into this project. It&#39;s really sad it&#39;s been ruined with license you chose for it.</p>
<div style="clear:both;"></div></div>
			    <div class="post-actions">
				    
			    </div>
			    
						    </div>
						    </div><div class="full-post-footer"><div class="r wireframe-r"></div></div></div>
					    </li>
				    
		    
			    
					    <li class="content-item">
						    <div class="full-post-outer wireframe-full-post-outer"><div class="full-post-header"><div class="r wireframe-r"></div></div>
						    <div class="full-post"><div class="full-post-inner wireframe-full-post-inner">
				    
			    <div class="post-author">
				    
				    <span class="avatar"><img src="/utility/anonymous.gif" alt="" border="0" style="max-height:32px;max-width:32px;" /></span>
                    <span class="profile-usercard-hover" data-profile-userid='00000000-0000-0000-0000-000000000000'>
				        
				        <span class="user-name">AdamMarkson</span>
                    </span>
			    </div>
			    <div class="post-date">
				    <span class="value">26 Sep 2013 12:46 AM</span>
			    </div>
			    <div class="post-content user-defined-markup"><p>Great to see, though frustrating that we will have to wait a few years to use it as we are still on XP :(</p>
<p>Presumably this bit about getting the package via nuget in MSDN is no longer true:</p>
<p>&#39;In the drop-down list box in the middle pane, choose Include Prerelease instead of Stable Only. &#39;</p>
<p><a rel="nofollow" target="_new" href="http://msdn.microsoft.com/en-us/library/dn385366.aspx">msdn.microsoft.com/.../dn385366.aspx</a></p>
<div style="clear:both;"></div></div>
			    <div class="post-actions">
				    
			    </div>
			    
						    </div>
						    </div><div class="full-post-footer"><div class="r wireframe-r"></div></div></div>
					    </li>
				    
		    
			    
					    <li class="content-item">
						    <div class="full-post-outer wireframe-full-post-outer"><div class="full-post-header"><div class="r wireframe-r"></div></div>
						    <div class="full-post"><div class="full-post-inner wireframe-full-post-inner">
				    
			    <div class="post-author">
				    <span class="avatar"><a href="/386636/ProfileUrlRedirect.ashx"><img src="http://i1.social.s-msft.com/profile/u/avatar.jpg?displayname=james+chaldecott&amp;size=large" alt="" style="border-width:0px;max-height:32px;max-width:32px;" /></a></span>
				    
                    <span class="profile-usercard-hover" data-profile-userid='82f22f2e-acdc-4729-9aaf-280382281eeb'>
				        <span class="user-name"><a class="internal-link view-user-profile" href="/386636/ProfileUrlRedirect.ashx"><span></span>James Chaldecott</a></span>
				        
                    </span>
			    </div>
			    <div class="post-date">
				    <span class="value">26 Sep 2013 3:11 AM</span>
			    </div>
			    <div class="post-content user-defined-markup"><p>Great news!</p>
<p>I think this is going to be a real help at my day job. We&#39;ve got a lot of code dedicated to locking of collections whilst reading/writing them, and it&#39;s fairly frequent that we end up having to fix a deadlock after someone got the locking a bit wrong. If we can get rid of some of the locks by using immutable collections it&#39;ll be a great help.</p>
<p>I&#39;m really looking forward to the return of ImmutableArray&lt;T&gt;, as well. There are places where we need to provide performant read-only access to large chucks of data and this could really help us out.</p>
<p>That said, it is a shame if the library has ended up with what seems to be the default &quot;Windows only&quot; license restriction. It makes it essentially impossible to justify taking a dependency on Immutable Collections in open source libraries, even if I personally just want to use those libraries on Windows. </p>
<p>Obviously you are aware of the issue, as Immo replied to Phil Haack&#39;s comment about it on an earlier post. If you could give us an indication of whether you are trying to get the restriction removed, or if you&#39;ve had a firm &quot;No&quot; from Legal it would be helpful.</p>
<p>Thanks, and keep up all the good work.</p>
<div style="clear:both;"></div></div>
			    <div class="post-actions">
				    
			    </div>
			    
						    </div>
						    </div><div class="full-post-footer"><div class="r wireframe-r"></div></div></div>
					    </li>
				    
		    
			    
					    <li class="content-item">
						    <div class="full-post-outer wireframe-full-post-outer"><div class="full-post-header"><div class="r wireframe-r"></div></div>
						    <div class="full-post"><div class="full-post-inner wireframe-full-post-inner">
				    
			    <div class="post-author">
				    
				    <span class="avatar"><img src="/utility/anonymous.gif" alt="" border="0" style="max-height:32px;max-width:32px;" /></span>
                    <span class="profile-usercard-hover" data-profile-userid='00000000-0000-0000-0000-000000000000'>
				        
				        <span class="user-name">Xero</span>
                    </span>
			    </div>
			    <div class="post-date">
				    <span class="value">26 Sep 2013 3:42 AM</span>
			    </div>
			    <div class="post-content user-defined-markup"><p>Thank you!</p>
<p>Please someone answer:</p>
<p>- Can we consume immutable collections in Windows Phone 8?</p>
<p>- Can we consume immutable collections in Windows 8.1 apps?</p>
<p>- Can we consume immutable collections in building Portable Class Library - PCL?</p>
<div style="clear:both;"></div></div>
			    <div class="post-actions">
				    
			    </div>
			    
						    </div>
						    </div><div class="full-post-footer"><div class="r wireframe-r"></div></div></div>
					    </li>
				    
		    
			    
					    <li class="content-item">
						    <div class="full-post-outer wireframe-full-post-outer"><div class="full-post-header"><div class="r wireframe-r"></div></div>
						    <div class="full-post"><div class="full-post-inner wireframe-full-post-inner">
				    
			    <div class="post-author">
				    
				    <span class="avatar"><img src="/utility/anonymous.gif" alt="" border="0" style="max-height:32px;max-width:32px;" /></span>
                    <span class="profile-usercard-hover" data-profile-userid='00000000-0000-0000-0000-000000000000'>
				        
				        <span class="user-name">Eren</span>
                    </span>
			    </div>
			    <div class="post-date">
				    <span class="value">26 Sep 2013 3:50 AM</span>
			    </div>
			    <div class="post-content user-defined-markup"><p>MSDN documentation includes a thread safety warning for all collection types: </p>
<p>&quot;Any public static (Shared in Visual Basic) members of this type are thread safe. Any instance members are not guaranteed to be thread safe.&quot;</p>
<p>Is this a documentation error?</p>
<div style="clear:both;"></div></div>
			    <div class="post-actions">
				    
			    </div>
			    
						    </div>
						    </div><div class="full-post-footer"><div class="r wireframe-r"></div></div></div>
					    </li>
				    
		    
			    
					    <li class="content-item">
						    <div class="full-post-outer wireframe-full-post-outer"><div class="full-post-header"><div class="r wireframe-r"></div></div>
						    <div class="full-post"><div class="full-post-inner wireframe-full-post-inner">
				    
			    <div class="post-author">
				    
				    <span class="avatar"><img src="/utility/anonymous.gif" alt="" border="0" style="max-height:32px;max-width:32px;" /></span>
                    <span class="profile-usercard-hover" data-profile-userid='00000000-0000-0000-0000-000000000000'>
				        
				        <span class="user-name">Tim</span>
                    </span>
			    </div>
			    <div class="post-date">
				    <span class="value">26 Sep 2013 4:05 AM</span>
			    </div>
			    <div class="post-content user-defined-markup"><p>Wow! Jim Caviezel works for Microsoft. I didn&#39;t knew that.. :-D</p>
<div style="clear:both;"></div></div>
			    <div class="post-actions">
				    
			    </div>
			    
						    </div>
						    </div><div class="full-post-footer"><div class="r wireframe-r"></div></div></div>
					    </li>
				    
		    
			    
					    <li class="content-item">
						    <div class="full-post-outer wireframe-full-post-outer"><div class="full-post-header"><div class="r wireframe-r"></div></div>
						    <div class="full-post"><div class="full-post-inner wireframe-full-post-inner">
				    
			    <div class="post-author">
				    
				    <span class="avatar"><img src="/utility/anonymous.gif" alt="" border="0" style="max-height:32px;max-width:32px;" /></span>
                    <span class="profile-usercard-hover" data-profile-userid='00000000-0000-0000-0000-000000000000'>
				        
				        <span class="user-name">Methew</span>
                    </span>
			    </div>
			    <div class="post-date">
				    <span class="value">26 Sep 2013 6:32 AM</span>
			    </div>
			    <div class="post-content user-defined-markup"><p>@Xero, I created a project from <a rel="nofollow" target="_new" href="http://apps.windowsstore.com/default.htm">apps.windowsstore.com/default.htm</a>, downloaded the source and installed the immutable collection nuget package and its installed without error. I haven&#39;t consumed it in any scenario. But I think it will work with Windows Phone and Windows Store. Not sure about PCL though.</p>
<div style="clear:both;"></div></div>
			    <div class="post-actions">
				    
			    </div>
			    
						    </div>
						    </div><div class="full-post-footer"><div class="r wireframe-r"></div></div></div>
					    </li>
				    
		    
			    
					    <li class="content-item">
						    <div class="full-post-outer wireframe-full-post-outer"><div class="full-post-header"><div class="r wireframe-r"></div></div>
						    <div class="full-post"><div class="full-post-inner wireframe-full-post-inner">
				    
			    <div class="post-author">
				    <span class="avatar"><a href="/447220/ProfileUrlRedirect.ashx"><img src="http://i1.social.s-msft.com/profile/u/avatar.jpg?displayname=mgsm88&amp;size=large" alt="" style="border-width:0px;max-height:32px;max-width:32px;" /></a></span>
				    
                    <span class="profile-usercard-hover" data-profile-userid='daa69972-982d-4433-9f2d-e6144eb98884'>
				        <span class="user-name"><a class="internal-link view-user-profile" href="/447220/ProfileUrlRedirect.ashx"><span></span>MgSm88</a></span>
				        
                    </span>
			    </div>
			    <div class="post-date">
				    <span class="value">26 Sep 2013 6:44 AM</span>
			    </div>
			    <div class="post-content user-defined-markup"><p>I know the C# team has been thinking about how to make immutable types easier to create- I hope they&#39;re successful, because it really requires a huge amount of code to do this pattern yourself.</p>
<div style="clear:both;"></div></div>
			    <div class="post-actions">
				    
			    </div>
			    
						    </div>
						    </div><div class="full-post-footer"><div class="r wireframe-r"></div></div></div>
					    </li>
				    
		    
			    
					    <li class="content-item user-is-author">
						    <div class="full-post-outer wireframe-full-post-outer"><div class="full-post-header user-is-author"><div class="r wireframe-r"></div></div>
						    <div class="full-post user-is-author"><div class="full-post-inner wireframe-full-post-inner">
				    
			    <div class="post-author">
				    <span class="avatar"><a href="/445356/ProfileUrlRedirect.ashx"><img src="http://i1.social.s-msft.com/profile/u/avatar.jpg?displayname=immo+landwerth+%5bmsft%5d&amp;size=large" alt="" style="border-width:0px;max-height:32px;max-width:32px;" /></a></span>
				    
                    <span class="profile-usercard-hover" data-profile-userid='01aab62d-ed5c-4d6f-84e4-fe7022b1e1ad'>
				        <span class="user-name"><a class="internal-link view-user-profile" href="/445356/ProfileUrlRedirect.ashx"><span></span>Immo Landwerth [MSFT]</a></span>
				        
                    </span>
			    </div>
			    <div class="post-date">
				    <span class="value">26 Sep 2013 7:56 AM</span>
			    </div>
			    <div class="post-content user-defined-markup"><p>@AdamMarkson: Yes, you no longer need to select &quot;Include Prerelease&quot;. By the time we published this article the new version of the docs were staged but not yet live. Stay tuned.</p>
<p>@James Chaldecott, Bart, fm: We are very much aware that this license restriction is an issue for the community. At this point the best explanation I can offer is that we neither made a decisions to remove it, nor to keep it. Until now, this is the standard EULA Microsoft teams have been using for years, so it&#39;s not like we specifically added this clause.</p>
<p>@Xero: Immutable Collections is supported on .NET 4.5, .NET for Windows Store and Windows Phone 8, as well as portable class libraries targeting those platforms.</p>
<p>@Eren: Excellent catch. I&#39;ll forward this to the documentation team. That&#39;s most likely part of the standard documentation that got incorrectly applied.</p>
<p>@Tim: ahem, so does George Clooney ;-)</p>
<p>@MgSm88: Indeed. The good news is that the C# team itself is now implementing the compilers and IDE services in C# using an immutable design. They are very much aware of the number of keystrokes involved :-)</p>
<div style="clear:both;"></div></div>
			    <div class="post-actions">
				    
			    </div>
			    
						    </div>
						    </div><div class="full-post-footer user-is-author"><div class="r wireframe-r"></div></div></div>
					    </li>
				    
		    
			    
					    <li class="content-item">
						    <div class="full-post-outer wireframe-full-post-outer"><div class="full-post-header"><div class="r wireframe-r"></div></div>
						    <div class="full-post"><div class="full-post-inner wireframe-full-post-inner">
				    
			    <div class="post-author">
				    
				    <span class="avatar"><img src="/utility/anonymous.gif" alt="" border="0" style="max-height:32px;max-width:32px;" /></span>
                    <span class="profile-usercard-hover" data-profile-userid='00000000-0000-0000-0000-000000000000'>
				        
				        <span class="user-name">Finder</span>
                    </span>
			    </div>
			    <div class="post-date">
				    <span class="value">26 Sep 2013 7:58 AM</span>
			    </div>
			    <div class="post-content user-defined-markup"><p>For a high-volume HTTP server (foundation is OWIN/Katana), does it make sense to store cross-application state/configuration in an ImmutableDictionary, or ConcurrentDictionary or MemoryCache, when the instances will feature thousands of reads per second but infrequent writes/updates per hour?</p>
<p>Also, when I first heard about this announcement, I went to Bing and searched for &quot;msdn immutable collections 2013/09/25&quot; and got no hits. Then I went to Google and searched for &quot;msdn immutable collections 2013/09/25&quot; and got this page as a top hit. So I submitted &quot;blogs.msdn.com&quot; to Bing as a &quot;new site&quot; in the hopes that they will try harder over there....</p>
<div style="clear:both;"></div></div>
			    <div class="post-actions">
				    
			    </div>
			    
						    </div>
						    </div><div class="full-post-footer"><div class="r wireframe-r"></div></div></div>
					    </li>
				    
		    
			    
					    <li class="content-item user-is-author">
						    <div class="full-post-outer wireframe-full-post-outer"><div class="full-post-header user-is-author"><div class="r wireframe-r"></div></div>
						    <div class="full-post user-is-author"><div class="full-post-inner wireframe-full-post-inner">
				    
			    <div class="post-author">
				    <span class="avatar"><a href="/445356/ProfileUrlRedirect.ashx"><img src="http://i1.social.s-msft.com/profile/u/avatar.jpg?displayname=immo+landwerth+%5bmsft%5d&amp;size=large" alt="" style="border-width:0px;max-height:32px;max-width:32px;" /></a></span>
				    
                    <span class="profile-usercard-hover" data-profile-userid='01aab62d-ed5c-4d6f-84e4-fe7022b1e1ad'>
				        <span class="user-name"><a class="internal-link view-user-profile" href="/445356/ProfileUrlRedirect.ashx"><span></span>Immo Landwerth [MSFT]</a></span>
				        
                    </span>
			    </div>
			    <div class="post-date">
				    <span class="value">26 Sep 2013 9:00 AM</span>
			    </div>
			    <div class="post-content user-defined-markup"><p>@Finder: The canonical answer is: it depends. It sounds to me like this scenario could benefit from using immutable collections but it always depends on how you need to handle updates. In general, you can use Interlocked.CompareExachange to update the reference to an immutable collection in an atomic fashion. You can use these to build somewhat higher-level operations like atomic updates (like the one we include in <a rel="nofollow" target="_new" href="http://msdn.microsoft.com/en-us/library/system.collections.immutable.immutableinterlocked.aspx">msdn.microsoft.com/.../system.collections.immutable.immutableinterlocked.aspx</a>), at which it becomes very similar to concurrent collections.</p>
<div style="clear:both;"></div></div>
			    <div class="post-actions">
				    
			    </div>
			    
						    </div>
						    </div><div class="full-post-footer user-is-author"><div class="r wireframe-r"></div></div></div>
					    </li>
				    
		    
			    
					    <li class="content-item">
						    <div class="full-post-outer wireframe-full-post-outer"><div class="full-post-header"><div class="r wireframe-r"></div></div>
						    <div class="full-post"><div class="full-post-inner wireframe-full-post-inner">
				    
			    <div class="post-author">
				    
				    <span class="avatar"><img src="/utility/anonymous.gif" alt="" border="0" style="max-height:32px;max-width:32px;" /></span>
                    <span class="profile-usercard-hover" data-profile-userid='00000000-0000-0000-0000-000000000000'>
				        
				        <span class="user-name">Earlz</span>
                    </span>
			    </div>
			    <div class="post-date">
				    <span class="value">26 Sep 2013 9:28 AM</span>
			    </div>
			    <div class="post-content user-defined-markup"><p>The license is so complicated you have to ask a lawyer if you can even use this library. I was really looking forward to this, but I&#39;ll be avoiding this for reasons I&#39;ve put in a blog post <a rel="nofollow" target="_new" href="http://earlz.net/view/2013/09/26/1618/why-i-wont-be-using-microsoftbclimmutable-package-despite">earlz.net/.../why-i-wont-be-using-microsoftbclimmutable-package-despite</a></p>
<div style="clear:both;"></div></div>
			    <div class="post-actions">
				    
			    </div>
			    
						    </div>
						    </div><div class="full-post-footer"><div class="r wireframe-r"></div></div></div>
					    </li>
				    
		    
			    
					    <li class="content-item">
						    <div class="full-post-outer wireframe-full-post-outer"><div class="full-post-header"><div class="r wireframe-r"></div></div>
						    <div class="full-post"><div class="full-post-inner wireframe-full-post-inner">
				    
			    <div class="post-author">
				    
				    <span class="avatar"><img src="/utility/anonymous.gif" alt="" border="0" style="max-height:32px;max-width:32px;" /></span>
                    <span class="profile-usercard-hover" data-profile-userid='00000000-0000-0000-0000-000000000000'>
				        
				        <span class="user-name">Finder</span>
                    </span>
			    </div>
			    <div class="post-date">
				    <span class="value">26 Sep 2013 9:40 AM</span>
			    </div>
			    <div class="post-content user-defined-markup"><p>@Immo, this is awesome. I just finished the Ch9 videos also. Great stuff!</p>
<p>To add more detail to what I am exploring, with 20 collections (lower case &quot;c&quot; in &quot;collections&quot;), each with 3000+ key/value pairs, all collections will simultaneously serve a value based on the key lookup (no iteration). Read-only stuff, but the lookup and subsequent value serving would occur thousands of times per second. Every n minutes, the collections would be completely destroyed and a new one would replace it. The collections themselves are in a List&lt;&gt;.</p>
<p>From my currently thin understanding, the new ImmutableDictionary&lt;TKey, TValue&gt; seems like a better move than ConcurrentDictionary&lt;TKey, TValue&gt;. I am trying to get some more &quot;compare and contrast&quot; ideas however before I begin blindly writing code and potentially taking my tests in the wrong direction.</p>
<p>Thanks.</p>
<div style="clear:both;"></div></div>
			    <div class="post-actions">
				    
			    </div>
			    
						    </div>
						    </div><div class="full-post-footer"><div class="r wireframe-r"></div></div></div>
					    </li>
				    
		    
			    
					    <li class="content-item">
						    <div class="full-post-outer wireframe-full-post-outer"><div class="full-post-header"><div class="r wireframe-r"></div></div>
						    <div class="full-post"><div class="full-post-inner wireframe-full-post-inner">
				    
			    <div class="post-author">
				    
				    <span class="avatar"><img src="/utility/anonymous.gif" alt="" border="0" style="max-height:32px;max-width:32px;" /></span>
                    <span class="profile-usercard-hover" data-profile-userid='00000000-0000-0000-0000-000000000000'>
				        
				        <span class="user-name">Rob FE</span>
                    </span>
			    </div>
			    <div class="post-date">
				    <span class="value">26 Sep 2013 2:04 PM</span>
			    </div>
			    <div class="post-content user-defined-markup"><p>To anyone else who wants to see the platform limitations removed, please vote up at <a rel="nofollow" target="_new" href="http://visualstudio.uservoice.com/forums/121579-visual-studio/suggestions/4494577-remove-the-platform-restriction-on-microsoft-nuget">visualstudio.uservoice.com/.../4494577-remove-the-platform-restriction-on-microsoft-nuget</a></p>
<p>@Immo, I can&#39;t stress enough how important it is to review the platform restrictions. I&#39;m currently building an app for multiple platforms (who isn&#39;t) and I&#39;d like to be able to reuse my code. If I could use this library in mono on android and iOS, then I would use it (along with Xamarin and Visual Studio). Otherwise my options are to build in javascript or build a native version in each platform, which largely cuts visual studio out of the picture.</p>
<div style="clear:both;"></div></div>
			    <div class="post-actions">
				    
			    </div>
			    
						    </div>
						    </div><div class="full-post-footer"><div class="r wireframe-r"></div></div></div>
					    </li>
				    
		    
			    </ul>
			    <div class="content-list-footer"></div>
		     
	    <div class="pager">
        <span class="summary">Page 1 of 2 (22 items)</span>
    <a class="selected" href="/b/dotnet/archive/2013/09/25/immutable-collections-ready-for-prime-time.aspx?PageIndex=1#comments"><span>1</span></a><span class="separator"></span><a class="page" href="/b/dotnet/archive/2013/09/25/immutable-collections-ready-for-prime-time.aspx?PageIndex=2#comments"><span>2</span></a><span class="separator"></span></div>
	</div>
</div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
</div>
</div>
</div>
<div class="layout-footer"></div>
</div></div>

			<div class="footer-fragments-header"></div>
<div class="footer-fragments"><div class="footer-fragment copyright-info" id="footer-fragment-247403536">

<ul class="footer-fragment-links">
    <li class="message copyright">© 2013 Microsoft Corporation.</li>
	<li class="message termsOfService"><a href="http://msdn.microsoft.com/cc300389">Terms of Use</a> </li>
    <li class="message trademarks"><a href="http://www.microsoft.com/library/toolbar/3.0/trademarks/en-us.mspx">Trademarks</a> </li>
    <li class="message privacy"><a href="http://go.microsoft.com/fwlink/?LinkId=248681">Privacy &amp; Cookies</a> </li>
    <li class="message abuse">
    
            <a id="ctl00_footer_fragment_247403536__a6907d_ctl00_ctl00_ctl01_lnkAbuse" href="javascript:WebForm_DoPostBackWithOptions(new WebForm_PostBackOptions(&quot;ctl00$footer_fragment_247403536$_a6907d$ctl00$ctl00$ctl01$lnkAbuse&quot;, &quot;&quot;, true, &quot;&quot;, &quot;&quot;, false, true))">Report Abuse</a>
        
    </li>
    
    <li class="message version">5.6.426.415</li>
</ul></div><div class="footer-fragment omniture-footer-fragment" id="footer-fragment-247403537">


<script src="http://i1.blogs.msdn.com/rrcontent/2569210a296af7a76a1f0a41cafcfd42-0504c0fa449b909ab2cb1f13355532e6-RequestReducedScript.js" type="text/javascript" ></script>        <noscript><a href="http://www.omniture.com" title="Web Analytics"><img
        src="http://msstomsdnblogs.112.2O7.net/b/ss/msstomsdnblogs/1/H.20.2--NS/0"
        height="1" width="1" border="0" alt="" /></a></noscript>

</div></div>
<div class="footer-fragments-footer"></div>
		
<script type="text/javascript">
// <![CDATA[
ctl00_content_ctl00 = new ContentFragmentPageCustomCallback('ctl00_content_ctl00',new Function('mode','parameters','callback','errorCallback','context','ctl00_content_ctl00_ctl00._doCallback(mode+\':\'+parameters,callback,context,errorCallback);'));
// ]]>
</script>
<!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
xmlns:dc="http://purl.org/dc/elements/1.1/"
xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
<rdf:Description
rdf:about="http://blogs.msdn.com/b/dotnet/archive/2013/09/25/immutable-collections-ready-for-prime-time.aspx"
dc:identifier="http://blogs.msdn.com/b/dotnet/archive/2013/09/25/immutable-collections-ready-for-prime-time.aspx"
dc:title="Immutable collections ready for prime time"
trackback:ping="http://blogs.msdn.com/b/dotnet/trackback.ashx?WeblogPostID=10452116" />
</rdf:RDF>
-->
<script type="text/javascript">
// <![CDATA[
Telligent_Modal.Configure('\/utility\/loading.htm',['modal'],['modal-title','modal-title-2','modal-title-3','modal-title-4'],['modal-close'],['modal-content','modal-content-2'],['modal-footer','modal-footer-2','modal-footer-3'],['modal-resize'],['modal-mask'],10000,false,true,true);
// ]]>
</script><script type="text/javascript">
// <![CDATA[
window.ctl00_header_fragment_247403541__a6907d_ctl00_ctl00_GroupNavigationPopup = new Telligent_PopupPanel('ctl00_header_fragment_247403541__a6907d_ctl00_ctl00_GroupNavigationPopup','menu group-navigation-content','down',100,null,null,false,'ctl00_header_fragment_247403541__a6907d_ctl00_ctl00_GroupNavigationPopup',new Function('Core_GroupNavigation_MouseOverPopup(ctl00_header_fragment_247403541)'),new Function('Core_GroupNavigation_MouseOutPopup(ctl00_header_fragment_247403541)'));
// ]]>
</script><script type="text/javascript">
// <![CDATA[
window.ctl00_content_ctl00_ctl00 = new Telligent_CallbackManager('ctl00_content_ctl00_ctl00','ctl00$content$ctl00$ctl00','aspnetForm');
// ]]>
</script><script type="text/javascript">
// <![CDATA[
var ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl01=new RateableContentRating('ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl01','ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl01','ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl01_Value', 5, '/Utility/images/', false, 'rating','rating active','rating readonly',['Terrible','Poor','Fair','Average','Good','Excellent'],true,true);
// ]]>
</script><script type="text/javascript">
				// <![CDATA[
				var ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl01_ajax={"SaveRating":function(rating,successFunction,failureFunction){WebForm_DoCallback('ctl00$content$ctl00$w_144656$_a6907d$ctl00$ctl01',rating,successFunction,rating,failureFunction,true)}};
				// ]]>
				</script><script type="text/javascript">
// <![CDATA[
$('#ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01_Container input[value="Save"]').attr('onclick','').removeAttr('onclick').click( function(){ try { var tagText = $('#ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01_Tags').val(); if (!tagText) return false;var tagList = tagText.replace(';',',').split(','); var isValid = true; for (var i=0,l=tagList.length;i<l;i++) {isValid = /^[ -~]{0,100}$/ig.test(tagList[i]); if (!isValid) { alert(tagList[i] + ' : is not valide'); return false; } }ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01.Save();}catch(ex){ } return false; });
// ]]>
</script>
<script type="text/javascript">
// <![CDATA[
window.ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01 = new Telligent_InlineEditor('ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01','ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01_Container',new Function('id', 'p', 'ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01_InlineTagEditor.SetInlineEditorPanelAndParameter(id,p);'),new Function('return ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01_InlineTagEditor.GetContent();'),new Function('c', 'ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01_InlineTagEditor.SetContent(c);'),null,new Function('ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01_InlineTagEditor.Focus();'),new Function('w', 'h', 'ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01_InlineTagEditor.Resize(w,h);'),300,90);
// ]]>
</script><script type="text/javascript">
// <![CDATA[
var ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01_TagEditor = new TagEditor('ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01_TagEditor',[['.net compact framework','.net compact framework'],['.net framework','.net framework'],['announcement','announcement'],['asp.net','asp.net'],['async','async'],['bcl','bcl'],['blog','blog'],['clr','clr'],['codegen','codegen'],['community','community'],['compatibility','compatibility'],['compression','compression'],['conferences','conferences'],['diagnostics','diagnostics'],['docs','docs'],['fundamentals','fundamentals'],['guidance','guidance'],['httpclient','httpclient'],['immutable','immutable'],['metro style','metro style'],['netcf 3.9','netcf 3.9'],['nuget','nuget'],['performance','performance'],['platform update','platform update'],['portable class libraries','portable class libraries'],['releases','releases'],['visual studio','visual studio'],['windows embedded compact 2013','windows embedded compact 2013'],['windows store','windows store']],'ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01_Tags');
// ]]>
</script><script type="text/javascript">
// <![CDATA[
var ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01_InlineTagEditor = new InlineTagEditor('ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01_InlineTagEditor','ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01','ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01_Container','ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01_Tags');
// ]]>
</script><script type="text/javascript">
// <![CDATA[
window.ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl02 = new Telligent_InlineEditorPanel('ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl02','ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl02','ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl02_State','ctl00_content_ctl00_w_144656__a6907d_ctl00_ctl15_ctl01',false,null,null,null);
// ]]>
</script>
<script type="text/javascript">
//<![CDATA[
$('#ctl00_content_ctl00_w_144658__a6907d_ctl00_ctl00_ctl00_ctl05_bpCommentForm_ctl05_tbComment').autoResize({animate : false,extraSpace : 0,limit : 3000});//]]>
</script>
<script type="text/javascript">
subtext_invisible_captcha_hideFromJavascriptEnabledBrowsers('ctl00_content_ctl00_w_144658__a6907d_ctl00_ctl00_ctl00_ctl05_bpCommentForm_ctl05_invisibleCaptcha_subtext_captcha');
</script><script type="text/javascript">
subtext_invisible_captcha_setAnswer(5, 3, 'ctl00_content_ctl00_w_144658__a6907d_ctl00_ctl00_ctl00_ctl05_bpCommentForm_ctl05_invisibleCaptcha_answer');
</script><script type="text/javascript">
// <![CDATA[
window.ctl00_content_ctl00_w_144659__a6907d_ctl00_ctl00_DelayedFeedbackList = new DelayedContent('ctl00_content_ctl00_w_144659__a6907d_ctl00_ctl00_DelayedFeedbackList','ctl00_content_ctl00_w_144659__a6907d_ctl00_ctl00_DelayedFeedbackList','ctl00_content_ctl00._customCallback(\'fragment-144659\',\'ctl00$content$ctl00$w_144659$_a6907d$ctl00$ctl00$DelayedFeedbackList\',argument,null,callback,null)',true,true,null);
// ]]>
</script></form>
       
    <script type="text/javascript">
        $(window).load(function () {
            $.getScript('http://widgets.membership.s-msft.com/v1/loader.js?brand=msdn&lang=en-US', function () {
            });
        });
    </script>
    
	</body>
</html>
